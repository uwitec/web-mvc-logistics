2014-03-10 10:39:21,472 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:39:22,644 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:39:23,046 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:39:23,088 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:39:23,165 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:39:23,178 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:39:24,129 [10] DEBUG Servicesys_parameter - 获取字段
2014-03-10 10:39:24,138 [10] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 10:39:24,431 [10] DEBUG Servicesys_parameter - 获取字段
2014-03-10 10:39:24,432 [10] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME_EN'
2014-03-10 10:39:34,571 [9] DEBUG Servicesys_user - 获取实体对象
2014-03-10 10:39:34,572 [9] DEBUG Sys - select sys_user.* from sys_user where UserCode='admin' and Password='81dc9bdb52d04dc20036dbd8313ed055' and IsEnable='1'
2014-03-10 10:39:35,226 [9] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'admin' 
2014-03-10 10:39:35,444 [9] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('admin','管理员','KAJ-PC','localhost','福建省厦门市','2014/3/10 10:39:35')
2014-03-10 10:39:35,453 [9] DEBUG Servicemms_project - 获取实体对象
2014-03-10 10:39:35,453 [9] DEBUG Mms - select mms_project.* from mms_project where ProjectCode='201306030001'
2014-03-10 10:39:35,687 [10] DEBUG Servicesys_parameter - 获取字段
2014-03-10 10:39:35,688 [10] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 10:39:35,922 [10] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 10:39:36,337 [10] DEBUG Servicesys_parameter - 获取字段
2014-03-10 10:39:36,337 [10] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 10:39:37,136 [9] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 10:39:39,548 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 10:39:39,562 [5] DEBUG Servicesys_code - 获取动态列表
2014-03-10 10:39:39,563 [5] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 10:39:40,923 [9] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 10:39:40,924 [9] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 10:39:41,072 [9] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 10:39:41,375 [5] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 10:39:41,376 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 10:39:41,443 [10] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 10:39:41,454 [10] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 10:39:41,454 [10] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 10:39:41,490 [10] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 10:39:41,498 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:39:41,498 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 10:39:41,500 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:39:41,500 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 10:39:41,528 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:39:41,528 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 10:39:41,530 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:39:41,530 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 10:54:38,730 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:54:38,742 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:54:38,752 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:54:38,752 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:54:38,754 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:54:38,754 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 10:54:39,001 [17] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 10:54:39,067 [17] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 10:54:39,084 [17] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 10:54:39,096 [17] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 10:54:39,105 [17] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:54:39,106 [17] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='' order by Jobno
2014-03-10 10:54:39,114 [17] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:54:39,114 [17] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'' and Jobno='' order by Jobno desc
2014-03-10 10:54:39,116 [17] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:54:39,116 [17] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'' and Jobno='' order by Jobno
2014-03-10 10:54:39,124 [17] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:54:39,124 [17] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='' order by Jobno desc
2014-03-10 10:54:39,757 [17] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 10:56:06,308 [20] DEBUG Servicesys_parameter - 获取字段
2014-03-10 10:56:06,308 [20] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 10:56:06,338 [20] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 10:56:06,359 [20] DEBUG Servicesys_parameter - 获取字段
2014-03-10 10:56:06,360 [20] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 10:56:07,208 [15] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 10:56:09,024 [15] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 10:56:09,044 [15] DEBUG Servicesys_code - 获取动态列表
2014-03-10 10:56:09,044 [15] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 10:56:11,060 [21] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 10:56:11,061 [21] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 10:56:11,073 [21] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 10:56:19,536 [15] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 10:56:19,538 [15] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 10:56:19,581 [20] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 10:56:19,602 [20] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 10:56:19,602 [20] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 10:56:19,608 [20] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 10:56:19,608 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:56:19,608 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 10:56:19,608 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:56:19,608 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 10:56:19,609 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:56:19,609 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 10:56:19,609 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 10:56:19,609 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 10:57:02,718 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/receive/Index','/Mms/receive')
2014-03-10 10:57:02,761 [7] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 10:57:02,762 [7] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 10:57:02,943 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 10:57:02,944 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 10:57:04,024 [21] DEBUG Servicemms_receive - 获取动态列表
2014-03-10 10:57:04,024 [21] DEBUG Mms - select top 20 A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName from mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_warehouse     D on D.WarehouseCode    = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode where A.ProjectCode='201306030001' order by A.BillNo
2014-03-10 10:57:04,365 [21] DEBUG Mms - select count(*) from ( select A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName from mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_warehouse     D on D.WarehouseCode    = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode where A.ProjectCode='201306030001' ) tb_temp
2014-03-10 10:57:06,089 [7] DEBUG Servicemms_receive - 获取新主键
2014-03-10 10:57:06,089 [7] DEBUG Mms - select isnull(max(BillNo),0) from mms_receive
2014-03-10 10:57:06,191 [19] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/receive/edit')
2014-03-10 10:57:06,197 [19] DEBUG Servicemms_receive - 获取实体对象
2014-03-10 10:57:06,198 [19] DEBUG Mms - select mms_receive.* from mms_receive where BillNo='201403100001'
2014-03-10 10:57:06,199 [19] DEBUG Servicemms_receive - 获取上一条下一条数据
2014-03-10 10:57:06,201 [19] DEBUG Servicemms_receive - 获取字段
2014-03-10 10:57:06,201 [19] DEBUG Mms - select top 1 BillNo from mms_receive where ProjectCode='201306030001' order by BillNo
2014-03-10 10:57:06,203 [19] DEBUG Servicemms_receive - 获取字段
2014-03-10 10:57:06,203 [19] DEBUG Mms - select top 1 BillNo from mms_receive where BillNo<'201403100001' and ProjectCode='201306030001' order by BillNo desc
2014-03-10 10:57:06,218 [19] DEBUG Servicemms_receive - 获取字段
2014-03-10 10:57:06,218 [19] DEBUG Mms - select top 1 BillNo from mms_receive where BillNo>'201403100001' and ProjectCode='201306030001' order by BillNo
2014-03-10 10:57:06,220 [19] DEBUG Servicemms_receive - 获取字段
2014-03-10 10:57:06,221 [19] DEBUG Mms - select top 1 BillNo from mms_receive where ProjectCode='201306030001' order by BillNo desc
2014-03-10 10:57:06,233 [19] DEBUG Servicesys_code - 获取动态列表
2014-03-10 10:57:06,233 [19] DEBUG Sys - select Text as value,Text as text from sys_code where CodeType='MeasureUnit'
2014-03-10 10:57:06,235 [19] DEBUG Servicesys_code - 获取动态列表
2014-03-10 10:57:06,235 [19] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 10:57:06,235 [19] DEBUG Servicesys_code - 获取动态列表
2014-03-10 10:57:06,235 [19] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='PayType'
2014-03-10 10:57:06,235 [19] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 10:57:06,236 [19] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 10:57:06,236 [19] DEBUG Servicesys_code - 获取字段
2014-03-10 10:57:06,236 [19] DEBUG Sys - select top 1 Code from sys_code where CodeType='SupplyType' and IsEnable='1' and IsDefault='1'
2014-03-10 10:57:06,261 [19] DEBUG Servicesys_code - 获取字段
2014-03-10 10:57:06,261 [19] DEBUG Sys - select top 1 Code from sys_code where CodeType='PayType' and IsEnable='1' and IsDefault='1'
2014-03-10 10:57:07,367 [21] DEBUG Servicemms_receive - 获取动态列表
2014-03-10 10:57:07,367 [21] DEBUG Mms - select A.*, B.MaterialName,B.Model,B.Material from mms_receiveDetail A
        left join mms_material B on B.MaterialCode = A.MaterialCode where BillNo='201403100001' order by A.MaterialCode
2014-03-10 11:01:15,594 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:01:15,594 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:01:15,604 [5] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:01:15,604 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:01:15,604 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:01:15,909 [11] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:01:17,673 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:01:17,687 [5] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:01:17,687 [5] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:01:18,611 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:01:18,632 [5] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:01:18,633 [5] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:01:19,633 [11] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:01:19,634 [11] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:01:19,672 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:01:19,673 [11] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:01:19,673 [11] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 11:01:19,688 [11] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:01:19,688 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:01:19,688 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 11:01:19,691 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:01:19,691 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 11:01:19,692 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:01:19,692 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 11:01:19,694 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:01:19,695 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 11:01:24,600 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/receive/Index','/Mms/receive')
2014-03-10 11:01:24,600 [11] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 11:01:24,600 [11] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 11:01:24,600 [11] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:01:24,600 [11] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 11:01:25,040 [17] DEBUG Servicemms_receive - 获取动态列表
2014-03-10 11:01:25,041 [17] DEBUG Mms - select top 20 A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName from mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_warehouse     D on D.WarehouseCode    = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode where A.ProjectCode='201306030001' order by A.BillNo
2014-03-10 11:01:25,043 [17] DEBUG Mms - select count(*) from ( select A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName from mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_warehouse     D on D.WarehouseCode    = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode where A.ProjectCode='201306030001' ) tb_temp
2014-03-10 11:01:26,570 [5] DEBUG Servicemms_receive - 获取新主键
2014-03-10 11:01:26,571 [5] DEBUG Mms - select isnull(max(BillNo),0) from mms_receive
2014-03-10 11:01:26,623 [17] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/receive/edit')
2014-03-10 11:01:26,625 [17] DEBUG Servicemms_receive - 获取实体对象
2014-03-10 11:01:26,625 [17] DEBUG Mms - select mms_receive.* from mms_receive where BillNo='201403100002'
2014-03-10 11:01:26,641 [17] DEBUG Servicemms_receive - 获取上一条下一条数据
2014-03-10 11:01:26,641 [17] DEBUG Servicemms_receive - 获取字段
2014-03-10 11:01:26,642 [17] DEBUG Mms - select top 1 BillNo from mms_receive where ProjectCode='201306030001' order by BillNo
2014-03-10 11:01:26,644 [17] DEBUG Servicemms_receive - 获取字段
2014-03-10 11:01:26,644 [17] DEBUG Mms - select top 1 BillNo from mms_receive where BillNo<'201403100002' and ProjectCode='201306030001' order by BillNo desc
2014-03-10 11:01:26,645 [17] DEBUG Servicemms_receive - 获取字段
2014-03-10 11:01:26,646 [17] DEBUG Mms - select top 1 BillNo from mms_receive where BillNo>'201403100002' and ProjectCode='201306030001' order by BillNo
2014-03-10 11:01:26,647 [17] DEBUG Servicemms_receive - 获取字段
2014-03-10 11:01:26,647 [17] DEBUG Mms - select top 1 BillNo from mms_receive where ProjectCode='201306030001' order by BillNo desc
2014-03-10 11:01:26,648 [17] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:01:26,648 [17] DEBUG Sys - select Text as value,Text as text from sys_code where CodeType='MeasureUnit'
2014-03-10 11:01:26,649 [17] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:01:26,649 [17] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 11:01:26,649 [17] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:01:26,649 [17] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='PayType'
2014-03-10 11:01:26,649 [17] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 11:01:26,650 [17] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 11:01:26,650 [17] DEBUG Servicesys_code - 获取字段
2014-03-10 11:01:26,650 [17] DEBUG Sys - select top 1 Code from sys_code where CodeType='SupplyType' and IsEnable='1' and IsDefault='1'
2014-03-10 11:01:26,650 [17] DEBUG Servicesys_code - 获取字段
2014-03-10 11:01:26,650 [17] DEBUG Sys - select top 1 Code from sys_code where CodeType='PayType' and IsEnable='1' and IsDefault='1'
2014-03-10 11:01:27,604 [5] DEBUG Servicemms_receive - 获取动态列表
2014-03-10 11:01:27,604 [5] DEBUG Mms - select A.*, B.MaterialName,B.Model,B.Material from mms_receiveDetail A
        left join mms_material B on B.MaterialCode = A.MaterialCode where BillNo='201403100002' order by A.MaterialCode
2014-03-10 11:03:27,779 [15] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:03:27,780 [15] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:03:27,795 [15] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:03:27,796 [15] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:03:27,797 [15] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:03:28,101 [15] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:03:29,558 [19] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:03:29,562 [19] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:03:29,562 [19] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:03:30,834 [15] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:03:30,834 [15] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:03:30,836 [15] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:03:31,627 [15] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:03:31,627 [15] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:03:31,672 [15] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:03:31,674 [15] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:03:31,674 [15] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 11:03:31,675 [15] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:03:31,675 [15] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:03:31,675 [15] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 11:03:31,689 [15] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:03:31,689 [15] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 11:03:31,692 [15] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:03:31,693 [15] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 11:03:31,694 [15] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:03:31,694 [15] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 11:05:58,408 [18] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:05:58,418 [18] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:05:58,448 [18] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:05:58,448 [18] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:05:58,448 [18] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:05:58,448 [18] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:05:58,648 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:05:58,658 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:05:58,808 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:05:59,008 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:05:59,008 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:05:59,829 [19] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:06:01,400 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:06:01,405 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:06:01,406 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:06:02,520 [11] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:06:02,520 [11] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:06:02,530 [11] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:06:03,255 [10] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:06:03,258 [10] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:06:03,311 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:06:03,316 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:06:03,316 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 11:06:03,319 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:06:03,328 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:06:03,329 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 11:06:03,330 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:06:03,330 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 11:06:03,331 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:06:03,331 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 11:06:03,332 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:06:03,332 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 11:06:47,639 [19] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:06:47,640 [19] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:06:47,658 [19] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:06:47,661 [19] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:06:47,662 [19] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:06:47,997 [19] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:06:51,533 [19] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/receive/Index','/Mms/receive')
2014-03-10 11:06:51,543 [19] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 11:06:51,543 [19] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 11:06:51,543 [19] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:06:51,543 [19] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 11:06:52,556 [10] DEBUG Servicemms_receive - 获取动态列表
2014-03-10 11:06:52,556 [10] DEBUG Mms - select top 20 A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName from mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_warehouse     D on D.WarehouseCode    = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode where A.ProjectCode='201306030001' order by A.BillNo
2014-03-10 11:06:52,566 [10] DEBUG Mms - select count(*) from ( select A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName from mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_warehouse     D on D.WarehouseCode    = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode where A.ProjectCode='201306030001' ) tb_temp
2014-03-10 11:06:53,332 [19] DEBUG Servicemms_receive - 获取新主键
2014-03-10 11:06:53,333 [19] DEBUG Mms - select isnull(max(BillNo),0) from mms_receive
2014-03-10 11:06:53,375 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/receive/edit')
2014-03-10 11:06:53,384 [7] DEBUG Servicemms_receive - 获取实体对象
2014-03-10 11:06:53,385 [7] DEBUG Mms - select mms_receive.* from mms_receive where BillNo='201403100001'
2014-03-10 11:06:53,386 [7] DEBUG Servicemms_receive - 获取上一条下一条数据
2014-03-10 11:06:53,387 [7] DEBUG Servicemms_receive - 获取字段
2014-03-10 11:06:53,388 [7] DEBUG Mms - select top 1 BillNo from mms_receive where ProjectCode='201306030001' order by BillNo
2014-03-10 11:06:53,389 [7] DEBUG Servicemms_receive - 获取字段
2014-03-10 11:06:53,389 [7] DEBUG Mms - select top 1 BillNo from mms_receive where BillNo<'201403100001' and ProjectCode='201306030001' order by BillNo desc
2014-03-10 11:06:53,391 [7] DEBUG Servicemms_receive - 获取字段
2014-03-10 11:06:53,391 [7] DEBUG Mms - select top 1 BillNo from mms_receive where BillNo>'201403100001' and ProjectCode='201306030001' order by BillNo
2014-03-10 11:06:53,392 [7] DEBUG Servicemms_receive - 获取字段
2014-03-10 11:06:53,392 [7] DEBUG Mms - select top 1 BillNo from mms_receive where ProjectCode='201306030001' order by BillNo desc
2014-03-10 11:06:53,407 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:06:53,407 [7] DEBUG Sys - select Text as value,Text as text from sys_code where CodeType='MeasureUnit'
2014-03-10 11:06:53,408 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:06:53,408 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 11:06:53,408 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:06:53,408 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='PayType'
2014-03-10 11:06:53,408 [7] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 11:06:53,409 [7] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 11:06:53,409 [7] DEBUG Servicesys_code - 获取字段
2014-03-10 11:06:53,409 [7] DEBUG Sys - select top 1 Code from sys_code where CodeType='SupplyType' and IsEnable='1' and IsDefault='1'
2014-03-10 11:06:53,409 [7] DEBUG Servicesys_code - 获取字段
2014-03-10 11:06:53,410 [7] DEBUG Sys - select top 1 Code from sys_code where CodeType='PayType' and IsEnable='1' and IsDefault='1'
2014-03-10 11:06:54,427 [7] DEBUG Servicemms_receive - 获取动态列表
2014-03-10 11:06:54,427 [7] DEBUG Mms - select A.*, B.MaterialName,B.Model,B.Material from mms_receiveDetail A
        left join mms_material B on B.MaterialCode = A.MaterialCode where BillNo='201403100001' order by A.MaterialCode
2014-03-10 11:12:39,083 [21] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:12:39,177 [21] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:12:39,206 [21] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:12:39,214 [21] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:12:39,214 [21] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:12:40,174 [21] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:12:43,186 [23] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:12:43,206 [23] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:12:43,207 [23] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:12:44,309 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:12:44,309 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:12:44,309 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:12:44,971 [21] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:12:44,971 [21] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:12:45,011 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:12:45,013 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:12:45,014 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 11:12:45,017 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:12:45,017 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:12:45,017 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 11:12:45,029 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:12:45,029 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 11:12:45,031 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:12:45,031 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 11:12:45,034 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:12:45,034 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 11:15:43,142 [7] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:43,152 [7] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:43,152 [7] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:43,152 [7] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:43,162 [7] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:43,162 [7] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:43,364 [22] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:15:43,374 [22] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:15:43,536 [22] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:15:43,746 [22] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:15:43,746 [22] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:15:56,554 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:56,605 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:56,611 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:56,615 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:56,620 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:56,623 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:15:57,493 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:15:57,504 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:15:58,108 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:15:58,413 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:15:58,413 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:15:59,285 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:16:01,298 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:16:01,435 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:16:01,437 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:16:03,840 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:16:03,841 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:16:03,887 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:16:04,867 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:16:04,869 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:16:04,959 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:16:04,967 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:16:04,968 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 11:16:04,978 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:16:04,985 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:16:04,986 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 11:16:04,996 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:16:04,996 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 11:16:05,003 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:16:05,004 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 11:16:05,011 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:16:05,012 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 11:18:02,765 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:18:02,766 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:18:02,814 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:18:02,820 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:18:02,820 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:18:03,483 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:18:05,444 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:18:05,454 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:18:05,454 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:18:05,935 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:18:05,935 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:18:05,938 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:18:07,049 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:18:07,050 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:18:07,086 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:18:07,088 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:18:07,089 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 11:18:07,090 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:18:07,090 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:18:07,090 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 11:18:07,091 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:18:07,102 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 11:18:07,102 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:18:07,103 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 11:18:07,103 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:18:07,103 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 11:23:32,831 [20] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:23:32,844 [20] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:23:32,853 [20] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:23:32,855 [20] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:23:32,855 [20] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:23:33,188 [20] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:23:34,674 [20] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:23:34,677 [20] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:23:34,678 [20] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:23:35,184 [20] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:23:35,187 [20] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:23:35,190 [20] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:23:35,972 [12] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:23:35,972 [12] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:23:36,008 [12] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:23:36,016 [12] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:23:36,016 [12] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 11:23:36,023 [12] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:23:36,023 [12] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:23:36,023 [12] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 11:23:36,025 [12] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:23:36,025 [12] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 11:23:36,026 [12] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:23:36,026 [12] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 11:23:36,027 [12] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:23:36,027 [12] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 11:26:57,229 [10] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:26:57,229 [10] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:26:57,238 [10] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:26:57,242 [10] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:26:57,242 [10] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:26:57,554 [10] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:27:00,246 [10] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:27:00,258 [10] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:27:00,258 [10] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:27:01,327 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:27:01,328 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:27:01,330 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:27:02,189 [20] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:27:02,189 [20] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:27:02,237 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:27:02,243 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:27:02,243 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100004'
2014-03-10 11:27:02,256 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:27:02,256 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:27:02,257 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno
2014-03-10 11:27:02,262 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:27:02,262 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100004' and Jobno='201403100004' order by Jobno desc
2014-03-10 11:27:02,263 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:27:02,263 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100004' and Jobno='201403100004' order by Jobno
2014-03-10 11:27:02,264 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:27:02,264 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno desc
2014-03-10 11:27:25,670 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:27:25,670 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:27:25,679 [8] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:27:25,680 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:27:25,681 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:27:26,007 [14] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:27:27,894 [20] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:27:27,912 [20] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:27:27,913 [20] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:27:28,832 [14] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:27:28,832 [14] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:27:28,835 [14] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:27:30,112 [14] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:27:30,112 [14] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:27:30,149 [14] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:27:30,152 [14] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:27:30,152 [14] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100005'
2014-03-10 11:27:30,154 [14] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:27:30,154 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:27:30,154 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100005' order by Jobno
2014-03-10 11:27:30,171 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:27:30,171 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100005' and Jobno='201403100005' order by Jobno desc
2014-03-10 11:27:30,172 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:27:30,172 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100005' and Jobno='201403100005' order by Jobno
2014-03-10 11:27:30,173 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:27:30,173 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100005' order by Jobno desc
2014-03-10 11:41:54,059 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:41:54,085 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:41:54,091 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:41:54,098 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:41:54,104 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:41:54,110 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:41:54,449 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:41:54,461 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:41:54,849 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:41:55,139 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:41:55,140 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:41:55,967 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:42:01,796 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:42:01,813 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:42:01,814 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:42:03,481 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:42:03,482 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:42:03,546 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:42:04,433 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:42:04,436 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:42:04,518 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:42:04,529 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:42:04,530 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 11:42:04,543 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:42:04,550 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:42:04,550 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 11:42:04,561 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:42:04,562 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 11:42:04,570 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:42:04,570 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 11:42:04,578 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:42:04,578 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 11:42:35,451 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:42:35,481 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:42:35,481 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:42:35,491 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:42:35,501 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:42:35,501 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:42:35,831 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:42:35,841 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:42:36,221 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:42:36,511 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:42:36,511 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:42:37,291 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:42:38,839 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:42:38,856 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:42:38,857 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:42:39,658 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:42:39,658 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:42:39,706 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:42:40,559 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:42:40,562 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:42:40,638 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:42:40,650 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:42:40,651 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 11:42:40,667 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:42:40,674 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:42:40,674 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 11:42:40,686 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:42:40,686 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 11:42:40,694 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:42:40,694 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 11:42:40,703 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:42:40,703 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 11:43:13,700 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:43:13,701 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:43:13,723 [8] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:43:13,822 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:43:13,822 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:43:14,411 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:43:16,609 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:43:16,609 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:43:16,609 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:43:17,580 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:43:17,580 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:43:17,583 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:43:18,674 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:43:18,674 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:43:18,714 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:43:18,714 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:43:18,714 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 11:43:18,724 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:43:18,724 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:43:18,724 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 11:43:18,724 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:43:18,724 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 11:43:18,724 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:43:18,724 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 11:43:18,724 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:43:18,724 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 11:44:07,254 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:44:07,274 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:44:07,284 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:44:07,294 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:44:07,294 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:44:07,304 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:44:07,594 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:44:07,604 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:44:07,986 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:44:08,268 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:44:08,268 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:44:09,156 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:44:10,617 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:44:10,632 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:44:10,632 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:44:11,425 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:44:11,425 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:44:11,471 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:44:12,271 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:44:12,274 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:44:12,366 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:44:12,379 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:44:12,380 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 11:44:12,395 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:44:12,402 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:44:12,403 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 11:44:12,417 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:44:12,418 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 11:44:12,429 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:44:12,430 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 11:44:12,438 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:44:12,438 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 11:45:32,126 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:45:32,126 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:45:32,136 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:45:32,136 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:45:32,136 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:45:32,486 [9] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:45:33,888 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:45:33,901 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:45:33,901 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:45:34,920 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:45:34,920 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:45:34,927 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:45:35,932 [9] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:45:35,932 [9] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:45:35,967 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:45:35,988 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:45:35,988 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 11:45:35,991 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:45:35,991 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:45:35,991 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 11:45:35,992 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:45:35,993 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 11:45:35,994 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:45:35,994 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 11:45:35,995 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:45:35,995 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 11:51:03,314 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:51:03,335 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:51:03,345 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:51:03,345 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:51:03,355 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:51:03,365 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:51:03,685 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:51:03,695 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:51:03,785 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:51:03,785 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME_EN'
2014-03-10 11:51:28,211 [7] DEBUG Servicesys_user - 获取实体对象
2014-03-10 11:51:28,211 [7] DEBUG Sys - select sys_user.* from sys_user where UserCode='admin' and Password='81dc9bdb52d04dc20036dbd8313ed055' and IsEnable='1'
2014-03-10 11:51:28,281 [7] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'admin' 
2014-03-10 11:51:28,361 [7] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('admin','管理员','KAJ-PC','localhost','福建省厦门市','2014/3/10 11:51:28')
2014-03-10 11:51:28,371 [7] DEBUG Servicemms_project - 获取实体对象
2014-03-10 11:51:28,371 [7] DEBUG Mms - select mms_project.* from mms_project where ProjectCode='201306030001'
2014-03-10 11:51:28,501 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:51:28,501 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:51:28,801 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:51:29,061 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:51:29,061 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:51:30,325 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:51:38,654 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:51:38,677 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:51:38,677 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:51:41,136 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:51:41,136 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:51:41,186 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:51:42,601 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:51:42,611 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:51:42,691 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:51:42,706 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:51:42,707 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 11:51:42,719 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:51:42,726 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:51:42,727 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 11:51:42,754 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:51:42,754 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 11:51:42,763 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:51:42,763 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 11:51:42,777 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:51:42,777 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 11:52:48,882 [9] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:52:48,882 [9] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:52:48,964 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:52:48,969 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:52:48,972 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 11:52:48,977 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:52:48,977 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:52:48,977 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 11:52:48,999 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:52:48,999 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 11:52:49,013 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:52:49,013 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 11:52:49,024 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:52:49,024 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 11:53:37,080 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:53:37,100 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:53:37,110 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:53:37,110 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:53:37,131 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:53:37,137 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 11:53:37,604 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:53:37,615 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:53:38,026 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:53:38,296 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:53:38,296 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:53:39,126 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:54:46,962 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:54:46,972 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:54:46,972 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:54:48,186 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:54:48,186 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:54:48,226 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:55:23,002 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:55:23,002 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:55:23,092 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:55:23,102 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:55:23,112 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 11:55:23,132 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:55:23,142 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:55:23,142 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 11:55:23,156 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:55:23,156 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 11:55:23,171 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:55:23,172 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 11:55:23,196 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:55:23,196 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 11:55:46,185 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:55:46,185 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:55:46,255 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:55:46,265 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:55:46,265 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 11:55:46,265 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:55:46,265 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:55:46,265 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 11:55:46,275 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:55:46,275 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 11:55:46,285 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:55:46,285 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 11:55:46,321 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:55:46,321 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 11:56:39,702 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:56:39,702 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 11:56:39,702 [12] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 11:56:39,712 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 11:56:39,712 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 11:56:40,212 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 11:56:59,148 [15] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 11:56:59,148 [15] DEBUG Servicesys_code - 获取动态列表
2014-03-10 11:56:59,148 [15] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 11:56:59,734 [13] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 11:56:59,734 [13] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 11:56:59,734 [13] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 11:57:01,164 [15] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:57:01,164 [15] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:57:01,224 [12] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:57:01,224 [12] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:57:01,224 [12] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 11:57:01,234 [12] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:57:01,234 [12] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:57:01,234 [12] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 11:57:01,234 [12] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:57:01,234 [12] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 11:57:01,234 [12] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:57:01,234 [12] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 11:57:01,234 [12] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:57:01,234 [12] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 11:57:50,105 [15] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 11:57:50,105 [15] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 11:57:50,165 [9] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 11:57:50,165 [9] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 11:57:50,165 [9] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100004'
2014-03-10 11:57:50,175 [9] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 11:57:50,175 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:57:50,175 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno
2014-03-10 11:57:50,175 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:57:50,175 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100004' and Jobno='201403100004' order by Jobno desc
2014-03-10 11:57:50,175 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:57:50,175 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100004' and Jobno='201403100004' order by Jobno
2014-03-10 11:57:50,175 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 11:57:50,175 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno desc
2014-03-10 13:28:04,489 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:04,519 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:04,519 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:04,529 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:04,529 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:04,539 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:04,849 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:28:04,859 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 13:28:05,259 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 13:28:05,583 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:28:05,583 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 13:28:17,666 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:17,686 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:17,716 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:17,716 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:17,726 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:17,726 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:28:18,046 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:28:18,056 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 13:28:18,436 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 13:28:18,737 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:28:18,737 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 13:28:19,558 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 13:28:29,209 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:28:29,251 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:28:29,251 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:28:30,490 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:28:30,490 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:28:30,540 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:28:37,187 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:28:37,187 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:28:37,280 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:28:37,292 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:28:37,293 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 13:28:37,315 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:28:37,323 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:28:37,324 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 13:28:37,340 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:28:37,340 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 13:28:37,351 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:28:37,351 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 13:28:37,359 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:28:37,359 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 13:30:05,268 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:30:05,268 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 13:30:05,281 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 13:30:05,301 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:30:05,301 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 13:30:05,925 [11] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 13:30:06,372 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:30:06,382 [11] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:30:06,382 [11] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:30:10,564 [9] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:30:10,564 [9] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:30:10,584 [9] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:30:48,914 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:30:48,934 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:30:48,964 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:30:48,974 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:30:48,974 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:30:48,984 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:30:49,314 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:30:49,324 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 13:30:49,734 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 13:30:50,036 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:30:50,036 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 13:30:51,138 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 13:31:05,088 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:31:05,103 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:31:05,106 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:31:06,375 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:31:06,375 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:31:06,425 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:31:07,530 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:31:07,530 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:31:07,623 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:31:07,635 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:31:07,635 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 13:31:07,658 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:31:07,666 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:31:07,667 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 13:31:07,686 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:31:07,687 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 13:31:07,710 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:31:07,710 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 13:31:07,725 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:31:07,725 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 13:33:35,745 [9] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:33:35,745 [9] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:33:35,845 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:33:35,859 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:33:35,859 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 13:33:35,886 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:33:35,886 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:33:35,886 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 13:33:35,895 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:33:35,895 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 13:33:35,903 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:33:35,903 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 13:33:35,911 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:33:35,912 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 13:34:28,028 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:34:28,058 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:34:28,058 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:34:28,068 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:34:28,085 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:34:28,093 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:34:28,380 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:34:28,390 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 13:34:28,760 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 13:34:29,052 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:34:29,052 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 13:34:29,902 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 13:34:49,249 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:34:49,281 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:34:49,282 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:34:50,576 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:34:50,576 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:34:50,636 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:35:05,498 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:35:05,498 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:35:05,592 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:35:05,605 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:35:05,606 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 13:35:05,639 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:35:05,646 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:35:05,646 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 13:35:05,659 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:35:05,660 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 13:35:05,675 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:35:05,676 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 13:35:05,710 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:35:05,710 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 13:36:53,255 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:36:53,268 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:36:53,268 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:36:54,194 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:36:54,194 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:36:54,204 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:36:56,182 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:36:56,182 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:36:56,242 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:36:56,252 [11] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:36:56,252 [11] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 13:36:56,269 [11] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:36:56,269 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:36:56,269 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 13:36:56,292 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:36:56,292 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 13:36:56,310 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:36:56,310 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 13:36:56,322 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:36:56,322 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 13:38:52,785 [13] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:38:52,786 [13] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:38:52,914 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:38:52,940 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:38:52,940 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 13:38:52,973 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:38:52,974 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:38:52,974 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 13:38:52,994 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:38:52,994 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 13:38:53,011 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:38:53,011 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 13:38:53,043 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:38:53,043 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 13:39:44,139 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:39:44,149 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:39:44,149 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 13:39:44,169 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:39:44,169 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:39:44,169 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 13:39:44,169 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:39:44,169 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 13:39:44,179 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:39:44,179 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 13:39:44,189 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:39:44,189 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 13:44:12,881 [25] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:44:12,888 [25] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:44:12,985 [25] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:44:13,016 [25] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:44:13,017 [25] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100004'
2014-03-10 13:44:13,033 [25] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:44:13,033 [25] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:44:13,033 [25] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno
2014-03-10 13:44:13,042 [25] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:44:13,046 [25] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100004' and Jobno='201403100004' order by Jobno desc
2014-03-10 13:44:13,069 [25] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:44:13,069 [25] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100004' and Jobno='201403100004' order by Jobno
2014-03-10 13:44:13,084 [25] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:44:13,085 [25] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno desc
2014-03-10 13:45:02,236 [23] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:45:02,237 [23] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:45:02,315 [24] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:45:02,320 [24] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:45:02,320 [24] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100005'
2014-03-10 13:45:02,332 [24] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:45:02,332 [24] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:45:02,332 [24] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100005' order by Jobno
2014-03-10 13:45:02,345 [24] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:45:02,345 [24] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100005' and Jobno='201403100005' order by Jobno desc
2014-03-10 13:45:02,386 [24] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:45:02,386 [24] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100005' and Jobno='201403100005' order by Jobno
2014-03-10 13:45:02,396 [24] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:45:02,396 [24] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100005' order by Jobno desc
2014-03-10 13:45:17,099 [23] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:45:17,112 [23] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:45:17,112 [23] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:45:19,230 [24] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:45:19,231 [24] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:45:19,241 [24] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:45:21,345 [25] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:45:21,346 [25] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:45:21,426 [26] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:45:21,435 [26] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:45:21,435 [26] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100006'
2014-03-10 13:45:21,444 [26] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:45:21,444 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:45:21,445 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100006' order by Jobno
2014-03-10 13:45:21,453 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:45:21,453 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100006' and Jobno='201403100006' order by Jobno desc
2014-03-10 13:45:21,482 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:45:21,482 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100006' and Jobno='201403100006' order by Jobno
2014-03-10 13:45:21,513 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:45:21,513 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100006' order by Jobno desc
2014-03-10 13:45:57,327 [23] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:45:57,333 [23] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:45:57,333 [23] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:45:58,966 [22] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:45:58,967 [22] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:45:58,975 [22] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:46:00,828 [23] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:46:00,829 [23] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:46:00,912 [22] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:46:00,917 [22] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:46:00,917 [22] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100007'
2014-03-10 13:46:00,924 [22] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:46:00,925 [22] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:46:00,925 [22] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100007' order by Jobno
2014-03-10 13:46:00,938 [22] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:46:00,938 [22] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100007' and Jobno='201403100007' order by Jobno desc
2014-03-10 13:46:00,979 [22] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:46:00,979 [22] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100007' and Jobno='201403100007' order by Jobno
2014-03-10 13:46:00,995 [22] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:46:00,995 [22] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100007' order by Jobno desc
2014-03-10 13:51:51,742 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:51:51,767 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:51:51,773 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:51:51,779 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:51:51,785 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:51:51,791 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:51:52,088 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:51:52,100 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 13:51:52,528 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 13:51:52,844 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:51:52,844 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 13:51:53,850 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 13:52:13,242 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:52:13,258 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:52:13,259 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:52:15,250 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:52:15,250 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:52:15,300 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:52:23,660 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:52:23,663 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:52:23,750 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:52:23,762 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:52:23,763 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 13:52:23,789 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:52:23,797 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:52:23,797 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 13:52:23,812 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:52:23,813 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 13:52:23,823 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:52:23,824 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 13:52:23,849 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:52:23,849 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 13:54:02,174 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:54:02,184 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:54:02,185 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:54:03,330 [11] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:54:03,330 [11] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:54:03,341 [11] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:54:04,491 [11] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:54:04,491 [11] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:54:04,563 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:54:04,574 [11] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:54:04,574 [11] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 13:54:04,584 [11] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:54:04,584 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:54:04,584 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 13:54:04,592 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:54:04,592 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 13:54:04,621 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:54:04,621 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 13:54:04,636 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:54:04,636 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 13:56:16,605 [14] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:56:16,616 [14] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:56:16,616 [14] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:56:17,703 [11] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:56:17,703 [11] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:56:17,714 [11] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:57:11,539 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:57:11,564 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:57:11,570 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:57:11,576 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:57:11,582 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:57:11,589 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 13:57:11,899 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:57:11,910 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 13:57:12,294 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 13:57:12,599 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:57:12,600 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 13:57:13,805 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 13:57:32,655 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:57:32,672 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:57:32,673 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:57:33,980 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:57:33,981 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:57:34,032 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:58:41,151 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:58:41,151 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 13:58:41,164 [8] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 13:58:41,184 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:58:41,185 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 13:58:41,864 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 13:58:42,419 [9] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:58:42,429 [9] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:58:42,429 [9] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:58:50,209 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:58:50,209 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:58:50,220 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:58:53,792 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:58:53,792 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 13:58:53,801 [8] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 13:58:53,812 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 13:58:53,812 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 13:58:54,561 [12] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 13:58:55,106 [18] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 13:58:55,112 [18] DEBUG Servicesys_code - 获取动态列表
2014-03-10 13:58:55,112 [18] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 13:58:56,154 [9] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 13:58:56,155 [9] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 13:58:56,163 [9] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 13:58:58,158 [20] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:58:58,159 [20] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:58:58,243 [16] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:58:58,255 [16] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:58:58,256 [16] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 13:58:58,283 [16] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:58:58,292 [16] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:58:58,292 [16] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 13:58:58,306 [16] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:58:58,306 [16] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 13:58:58,315 [16] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:58:58,315 [16] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 13:58:58,327 [16] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:58:58,327 [16] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 13:59:10,473 [11] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 13:59:10,474 [11] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 13:59:10,546 [19] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 13:59:10,551 [19] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 13:59:10,552 [19] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 13:59:10,559 [19] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 13:59:10,559 [19] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:59:10,559 [19] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 13:59:10,567 [19] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:59:10,567 [19] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 13:59:10,580 [19] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:59:10,580 [19] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 13:59:10,604 [19] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 13:59:10,604 [19] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 14:00:10,486 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:00:10,510 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:00:10,516 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:00:10,523 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:00:10,529 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:00:10,535 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:00:10,836 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:00:10,848 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:00:11,425 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:00:11,738 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:00:11,738 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:00:12,750 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:00:20,426 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:00:20,441 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:00:20,442 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:00:22,343 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:00:22,343 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:00:22,392 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:00:23,768 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:00:23,769 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:00:23,849 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:00:23,861 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:00:23,862 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 14:00:23,879 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:00:23,887 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:00:23,887 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 14:00:23,911 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:00:23,911 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 14:00:23,922 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:00:23,922 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 14:00:23,932 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:00:23,932 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 14:02:10,437 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:02:10,437 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:02:10,446 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:02:10,448 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:02:10,448 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:02:10,948 [9] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:02:17,376 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:02:17,381 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:02:17,381 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:02:18,316 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:02:18,316 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:02:18,322 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:02:19,529 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:02:19,529 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:02:19,594 [9] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:02:19,599 [9] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:02:19,600 [9] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 14:02:19,604 [9] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:02:19,604 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:02:19,604 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 14:02:19,605 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:02:19,605 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 14:02:19,606 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:02:19,606 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 14:02:19,607 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:02:19,607 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 14:04:27,717 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:04:27,742 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:04:27,748 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:04:27,754 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:04:27,760 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:04:27,766 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:04:28,088 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:04:28,100 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:04:28,493 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:04:28,777 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:04:28,777 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:04:45,560 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:04:45,577 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:04:45,578 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:04:47,115 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:04:47,115 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:04:47,161 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:04:47,946 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:04:47,948 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:04:48,040 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:04:48,053 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:04:48,054 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 14:04:48,081 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:04:48,089 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:04:48,089 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 14:04:48,121 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:04:48,121 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 14:04:48,149 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:04:48,150 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 14:04:48,183 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:04:48,183 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 14:09:15,970 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:15,996 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:16,003 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:16,011 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:16,017 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:16,024 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:16,397 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:09:16,409 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:09:16,873 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:09:17,192 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:09:17,192 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:09:26,677 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:09:26,700 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:09:26,701 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:09:28,422 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:09:28,423 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:09:28,473 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:09:29,909 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:09:29,911 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:09:30,000 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:09:30,013 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:09:30,014 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 14:09:30,042 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:09:30,050 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:09:30,051 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 14:09:30,070 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:09:30,070 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 14:09:30,082 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:09:30,082 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 14:09:30,103 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:09:30,104 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 14:09:44,576 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:44,612 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:44,618 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:44,624 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:44,630 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:44,637 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:09:44,949 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:09:44,960 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:09:45,377 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:09:45,677 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:09:45,677 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:09:46,583 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:09:55,570 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:09:55,583 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:09:55,584 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:09:56,901 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:09:56,901 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:09:56,947 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:09:58,484 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:09:58,486 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:09:58,581 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:09:58,591 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:09:58,592 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 14:09:58,604 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:09:58,613 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:09:58,613 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 14:09:58,670 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:09:58,670 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 14:09:58,684 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:09:58,684 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 14:09:58,696 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:09:58,697 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 14:11:02,871 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:11:02,897 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:11:02,902 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:11:02,911 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:11:02,916 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:11:02,922 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:11:03,244 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:11:03,256 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:11:03,657 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:11:03,971 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:11:03,971 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:11:04,920 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:11:16,126 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:11:16,143 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:11:16,144 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:11:18,121 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:11:18,121 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:11:18,171 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:11:19,994 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:11:19,997 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:11:20,109 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:11:20,122 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:11:20,123 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 14:11:20,148 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:11:20,156 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:11:20,156 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 14:11:20,174 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:11:20,175 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 14:11:20,185 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:11:20,186 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 14:11:20,199 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:11:20,199 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 14:12:26,689 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:12:26,714 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:12:26,720 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:12:26,727 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:12:26,732 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:12:26,738 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:12:27,053 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:12:27,065 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:12:27,460 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:12:27,769 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:12:27,770 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:12:28,661 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:12:37,603 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:12:37,621 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:12:37,622 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:12:39,635 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:12:39,636 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:12:39,698 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:12:41,470 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:12:41,472 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:12:41,565 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:12:41,578 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:12:41,579 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 14:12:41,603 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:12:41,611 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:12:41,612 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 14:12:41,630 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:12:41,631 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 14:12:41,639 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:12:41,639 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 14:12:41,653 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:12:41,653 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 14:16:09,543 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:16:09,568 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:16:09,575 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:16:09,581 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:16:09,586 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:16:09,593 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:16:09,899 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:16:09,911 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:16:10,300 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:16:10,612 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:16:10,613 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:16:11,549 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:16:21,625 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:16:21,655 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:16:21,656 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:16:23,653 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:16:23,654 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:16:23,703 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:16:25,003 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:16:25,005 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:16:25,098 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:16:25,109 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:16:25,110 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 14:16:25,137 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:16:25,145 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:16:25,145 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 14:16:25,165 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:16:25,165 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 14:16:25,176 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:16:25,176 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 14:16:25,188 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:16:25,188 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 14:17:20,375 [8] ERROR /api/trade/trailer/getdetail/201403100001 - System.Xml.XmlException: 第 9 行，位置 10 上的开始标记“A”与结束标记“c”不匹配。 第 9 行，位置 44。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.Throw(String res, String[] args)
   在 System.Xml.XmlTextReaderImpl.ThrowTagMismatch(NodeData startTag)
   在 System.Xml.XmlTextReaderImpl.ParseEndElement()
   在 System.Xml.XmlTextReaderImpl.ParseElementContent()
   在 System.Xml.XmlTextReaderImpl.Read()
   在 System.Xml.XmlLoader.LoadNode(Boolean skipOverWhitespace)
   在 System.Xml.XmlLoader.LoadDocSequence(XmlDocument parentDoc)
   在 System.Xml.XmlLoader.Load(XmlDocument doc, XmlReader reader, Boolean preserveWhitespace)
   在 System.Xml.XmlDocument.Load(XmlReader reader)
   在 System.Xml.XmlDocument.LoadXml(String xml)
   在 Zephyr.Core.RequestWrapper.SetXml(String str) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Request\RequestWrapper.cs:行号 61
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.GetDetail(String id) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 172
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2014-03-10 14:20:42,780 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:20:42,805 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:20:42,811 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:20:42,818 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:20:42,826 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:20:42,832 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:20:43,152 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:20:43,163 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:20:43,473 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:20:43,759 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:20:43,761 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:20:44,663 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:20:53,155 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:20:53,171 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:20:53,172 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:20:54,994 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:20:54,994 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:20:55,045 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:20:55,996 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:20:55,998 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:20:56,073 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:20:56,086 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:20:56,087 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 14:20:56,111 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:20:56,118 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:20:56,119 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 14:20:56,135 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:20:56,136 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 14:20:56,146 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:20:56,146 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 14:20:56,159 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:20:56,159 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 14:20:56,904 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:20:56,905 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where Jobno='201403100001' order by  B.Jobno
2014-03-10 14:20:57,630 [7] ERROR Servicetrade_trailer - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'Jobno' 不明确。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass41.<GetDynamicList>b__40() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 26
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:372a38dc-685a-4940-bc5f-863de029f878
2014-03-10 14:21:02,666 [7] ERROR /api/trade/trailer/getdetail/201403100001 - System.Data.SqlClient.SqlException (0x80131904): 列名 'Jobno' 不明确。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 26
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 41
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.GetDetail(String id) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 189
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:372a38dc-685a-4940-bc5f-863de029f878
2014-03-10 14:22:02,305 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:02,322 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:02,326 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:02,329 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:02,332 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:02,335 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:02,622 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:22:02,632 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:22:02,821 [5] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:22:03,029 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:22:03,030 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:22:15,284 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:15,305 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:15,311 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:15,314 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:15,319 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:15,322 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:22:15,626 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:22:15,637 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:22:15,947 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:22:16,231 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:22:16,232 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:22:17,102 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:22:23,861 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:22:23,881 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:22:23,882 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:22:25,614 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:22:25,614 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:22:25,663 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:22:26,589 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:22:26,591 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:22:26,688 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:22:26,719 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:22:26,722 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 14:22:26,742 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:22:26,750 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:22:26,750 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 14:22:26,785 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:22:26,786 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 14:22:26,802 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:22:26,802 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 14:22:26,813 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:22:26,814 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 14:22:27,515 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:22:27,515 [8] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 14:22:59,441 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:22:59,442 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:22:59,449 [8] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:22:59,451 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:22:59,451 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:22:59,988 [8] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:23:03,356 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:23:03,362 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:23:03,362 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:23:04,355 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:23:04,355 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:23:04,360 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:23:05,592 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:23:05,593 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:23:05,659 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:23:05,665 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:23:05,665 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 14:23:05,669 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:23:05,669 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:23:05,669 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 14:23:05,670 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:23:05,670 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 14:23:05,671 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:23:05,671 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 14:23:05,672 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:23:05,672 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 14:23:38,473 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:23:38,498 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:23:38,504 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:23:38,510 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:23:38,517 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:23:38,523 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 14:23:38,844 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:23:38,857 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:23:39,264 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:23:39,570 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:23:39,570 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:23:40,555 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:23:47,424 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:23:47,441 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:23:47,441 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:23:49,375 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:23:49,376 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:23:49,423 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:23:51,008 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:23:51,010 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:23:51,111 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:23:51,145 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:23:51,146 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 14:23:51,172 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:23:51,180 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:23:51,180 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 14:23:51,198 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:23:51,199 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 14:23:51,213 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:23:51,213 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 14:23:51,239 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:23:51,240 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 14:25:45,424 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:25:45,424 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:25:45,435 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:25:45,441 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:25:45,441 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:25:45,973 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:26:23,969 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:26:23,975 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:26:23,975 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:26:24,970 [9] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:26:24,970 [9] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:26:24,977 [9] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:26:26,410 [9] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:26:26,410 [9] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:26:26,470 [9] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:26:26,475 [9] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:26:26,476 [9] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 14:26:26,479 [9] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:26:26,479 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:26:26,479 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 14:26:26,480 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:26:26,481 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 14:26:26,481 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:26:26,482 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 14:26:26,482 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:26:26,483 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 14:26:41,935 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/receive/Index','/Mms/receive')
2014-03-10 14:26:41,944 [8] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 14:26:41,945 [8] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 14:26:42,025 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:26:42,025 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 14:26:43,052 [8] DEBUG Servicemms_receive - 获取动态列表
2014-03-10 14:26:43,053 [8] DEBUG Mms - select top 20 A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName from mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_warehouse     D on D.WarehouseCode    = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode where A.ProjectCode='201306030001' order by A.BillNo
2014-03-10 14:26:43,189 [8] DEBUG Mms - select count(*) from ( select A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName from mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_warehouse     D on D.WarehouseCode    = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode where A.ProjectCode='201306030001' ) tb_temp
2014-03-10 14:26:44,585 [7] DEBUG Servicemms_receive - 获取新主键
2014-03-10 14:26:44,585 [7] DEBUG Mms - select isnull(max(BillNo),0) from mms_receive
2014-03-10 14:26:44,692 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/receive/edit')
2014-03-10 14:26:44,699 [8] DEBUG Servicemms_receive - 获取实体对象
2014-03-10 14:26:44,700 [8] DEBUG Mms - select mms_receive.* from mms_receive where BillNo='201403100001'
2014-03-10 14:26:44,701 [8] DEBUG Servicemms_receive - 获取上一条下一条数据
2014-03-10 14:26:44,702 [8] DEBUG Servicemms_receive - 获取字段
2014-03-10 14:26:44,702 [8] DEBUG Mms - select top 1 BillNo from mms_receive where ProjectCode='201306030001' order by BillNo
2014-03-10 14:26:44,704 [8] DEBUG Servicemms_receive - 获取字段
2014-03-10 14:26:44,705 [8] DEBUG Mms - select top 1 BillNo from mms_receive where BillNo<'201403100001' and ProjectCode='201306030001' order by BillNo desc
2014-03-10 14:26:44,753 [8] DEBUG Servicemms_receive - 获取字段
2014-03-10 14:26:44,753 [8] DEBUG Mms - select top 1 BillNo from mms_receive where BillNo>'201403100001' and ProjectCode='201306030001' order by BillNo
2014-03-10 14:26:44,755 [8] DEBUG Servicemms_receive - 获取字段
2014-03-10 14:26:44,755 [8] DEBUG Mms - select top 1 BillNo from mms_receive where ProjectCode='201306030001' order by BillNo desc
2014-03-10 14:26:44,767 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:26:44,767 [8] DEBUG Sys - select Text as value,Text as text from sys_code where CodeType='MeasureUnit'
2014-03-10 14:26:44,768 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:26:44,769 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 14:26:44,769 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:26:44,769 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='PayType'
2014-03-10 14:26:44,769 [8] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 14:26:44,769 [8] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 14:26:44,770 [8] DEBUG Servicesys_code - 获取字段
2014-03-10 14:26:44,770 [8] DEBUG Sys - select top 1 Code from sys_code where CodeType='SupplyType' and IsEnable='1' and IsDefault='1'
2014-03-10 14:26:44,786 [8] DEBUG Servicesys_code - 获取字段
2014-03-10 14:26:44,786 [8] DEBUG Sys - select top 1 Code from sys_code where CodeType='PayType' and IsEnable='1' and IsDefault='1'
2014-03-10 14:26:46,717 [9] DEBUG Servicemms_receive - 获取动态列表
2014-03-10 14:26:46,718 [9] DEBUG Mms - select A.*, B.MaterialName,B.Model,B.Material from mms_receiveDetail A
        left join mms_material B on B.MaterialCode = A.MaterialCode where BillNo='201403100001' order by A.MaterialCode
2014-03-10 14:28:09,533 [10] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:28:09,533 [10] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:28:09,540 [10] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:28:09,545 [10] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:28:09,545 [10] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:28:10,228 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:28:31,755 [10] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:28:31,756 [10] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:28:31,756 [10] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:28:32,756 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:28:32,756 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:28:32,758 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:28:34,876 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:28:34,876 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:28:34,937 [10] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:28:34,938 [10] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:28:34,939 [10] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 14:28:34,940 [10] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:28:34,940 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:28:34,940 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 14:28:34,942 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:28:34,942 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 14:28:34,943 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:28:34,943 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 14:28:34,944 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:28:34,944 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 14:46:00,701 [26] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:46:00,705 [26] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:46:00,713 [26] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:46:00,714 [26] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:46:00,714 [26] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:46:01,261 [24] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:46:04,185 [26] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:46:04,187 [26] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:46:04,188 [26] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:46:05,194 [25] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:46:05,196 [25] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:46:05,198 [25] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:46:06,616 [25] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:46:06,616 [25] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:46:06,679 [26] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:46:06,680 [26] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:46:06,681 [26] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100004'
2014-03-10 14:46:06,682 [26] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:46:06,682 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:46:06,683 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno
2014-03-10 14:46:06,684 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:46:06,684 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100004' and Jobno='201403100004' order by Jobno desc
2014-03-10 14:46:06,686 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:46:06,686 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100004' and Jobno='201403100004' order by Jobno
2014-03-10 14:46:06,687 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:46:06,687 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno desc
2014-03-10 14:46:07,122 [25] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:46:07,123 [25] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100004' order by A.Jobno
2014-03-10 14:46:18,178 [26] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:46:18,178 [26] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:46:18,185 [26] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:46:18,186 [26] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:46:18,187 [26] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:46:18,716 [26] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:46:20,897 [24] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:46:20,931 [24] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:46:20,931 [24] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:46:21,884 [24] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:46:21,884 [24] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:46:21,887 [24] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:46:22,918 [25] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:46:22,918 [25] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:46:22,977 [26] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:46:22,978 [26] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:46:22,978 [26] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100005'
2014-03-10 14:46:22,980 [26] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:46:22,980 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:46:22,980 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100005' order by Jobno
2014-03-10 14:46:22,981 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:46:22,981 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100005' and Jobno='201403100005' order by Jobno desc
2014-03-10 14:46:22,982 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:46:22,983 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100005' and Jobno='201403100005' order by Jobno
2014-03-10 14:46:22,983 [26] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:46:22,983 [26] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100005' order by Jobno desc
2014-03-10 14:50:42,486 [22] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:50:42,486 [22] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:50:42,495 [22] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:50:42,496 [22] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:50:42,496 [22] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:50:43,239 [22] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:50:46,993 [24] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:50:46,996 [24] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:50:46,997 [24] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:50:48,020 [24] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:50:48,045 [24] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:50:48,047 [24] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:50:49,248 [24] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:50:49,248 [24] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:50:49,310 [22] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:50:49,313 [22] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:50:49,313 [22] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100006'
2014-03-10 14:50:49,315 [22] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:50:49,315 [22] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:50:49,315 [22] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100006' order by Jobno
2014-03-10 14:50:49,316 [22] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:50:49,316 [22] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100006' and Jobno='201403100006' order by Jobno desc
2014-03-10 14:50:49,318 [22] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:50:49,318 [22] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100006' and Jobno='201403100006' order by Jobno
2014-03-10 14:50:49,319 [22] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:50:49,319 [22] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100006' order by Jobno desc
2014-03-10 14:50:49,771 [21] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:50:49,771 [21] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100006' order by A.Jobno
2014-03-10 14:52:23,317 [24] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:52:23,318 [24] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:52:23,354 [24] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:52:23,356 [24] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:52:23,356 [24] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:52:23,841 [24] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 14:52:28,759 [22] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/direct/Index','/Mms/direct')
2014-03-10 14:52:28,764 [22] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 14:52:28,768 [22] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 14:52:28,768 [22] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:52:28,768 [22] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 14:52:29,803 [22] DEBUG Servicemms_direct - 获取动态列表
2014-03-10 14:52:29,803 [22] DEBUG Mms - select top 20 A.*, B.ProjectName, C.MaterialTypeName,D.MerchantsName as SupplierName,E.MerchantsName as PickUnitName from mms_direct A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_merchants     D on D.MerchantsCode    = A.SupplierCode
        left join mms_merchants     E on E.MerchantsCode    = A.PickUnit where A.ProjectCode='201306030001' order by A.BillNo
2014-03-10 14:52:30,049 [22] DEBUG Mms - select count(*) from ( select A.*, B.ProjectName, C.MaterialTypeName,D.MerchantsName as SupplierName,E.MerchantsName as PickUnitName from mms_direct A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_merchants     D on D.MerchantsCode    = A.SupplierCode
        left join mms_merchants     E on E.MerchantsCode    = A.PickUnit where A.ProjectCode='201306030001' ) tb_temp
2014-03-10 14:52:30,888 [24] DEBUG Servicemms_direct - 获取新主键
2014-03-10 14:52:30,888 [24] DEBUG Mms - select isnull(max(BillNo),0) from mms_direct
2014-03-10 14:52:30,957 [22] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/direct/edit')
2014-03-10 14:52:30,981 [22] DEBUG Servicemms_direct - 获取实体对象
2014-03-10 14:52:30,983 [22] DEBUG Mms - select mms_direct.* from mms_direct where BillNo='201403100001'
2014-03-10 14:52:30,986 [22] DEBUG Servicemms_direct - 获取上一条下一条数据
2014-03-10 14:52:30,987 [22] DEBUG Servicemms_direct - 获取字段
2014-03-10 14:52:30,988 [22] DEBUG Mms - select top 1 BillNo from mms_direct where ProjectCode='201306030001' order by BillNo
2014-03-10 14:52:30,990 [22] DEBUG Servicemms_direct - 获取字段
2014-03-10 14:52:30,990 [22] DEBUG Mms - select top 1 BillNo from mms_direct where BillNo<'201403100001' and ProjectCode='201306030001' order by BillNo desc
2014-03-10 14:52:30,992 [22] DEBUG Servicemms_direct - 获取字段
2014-03-10 14:52:30,992 [22] DEBUG Mms - select top 1 BillNo from mms_direct where BillNo>'201403100001' and ProjectCode='201306030001' order by BillNo
2014-03-10 14:52:31,010 [22] DEBUG Servicemms_direct - 获取字段
2014-03-10 14:52:31,010 [22] DEBUG Mms - select top 1 BillNo from mms_direct where ProjectCode='201306030001' order by BillNo desc
2014-03-10 14:52:31,020 [22] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:52:31,020 [22] DEBUG Sys - select Text as value,Text as text from sys_code where CodeType='MeasureUnit'
2014-03-10 14:52:31,022 [22] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:52:31,022 [22] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 14:52:31,023 [22] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:52:31,023 [22] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='PayType'
2014-03-10 14:52:31,024 [22] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:52:31,024 [22] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='MaterialUse'
2014-03-10 14:52:31,025 [22] DEBUG Servicesys_code - 获取字段
2014-03-10 14:52:31,025 [22] DEBUG Sys - select top 1 Code from sys_code where CodeType='SupplyType' and IsEnable='1' and IsDefault='1'
2014-03-10 14:52:31,025 [22] DEBUG Servicesys_code - 获取字段
2014-03-10 14:52:31,025 [22] DEBUG Sys - select top 1 Code from sys_code where CodeType='PayType' and IsEnable='1' and IsDefault='1'
2014-03-10 14:52:33,022 [12] DEBUG Servicemms_direct - 获取动态列表
2014-03-10 14:52:33,023 [12] DEBUG Mms - select A.*, B.MaterialName,B.Model,B.Material from mms_directDetail A left join mms_material B on B.MaterialCode = A.MaterialCode where BillNo='201403100001' order by A.MaterialCode
2014-03-10 14:52:37,845 [24] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/merchant/Index','/Mms/merchant')
2014-03-10 14:52:38,729 [24] DEBUG Servicemms_merchants - 获取实体列表
2014-03-10 14:52:38,730 [24] DEBUG Mms - select top 20 mms_merchants.* from mms_merchants order by MerchantsCode
2014-03-10 14:52:38,740 [12] DEBUG Servicemms_merchantsType - 获取动态列表
2014-03-10 14:52:38,740 [12] DEBUG Mms - select mms_merchantsType.* from mms_merchantsType order by MerchantsTypeCode
2014-03-10 14:52:38,747 [24] DEBUG Mms - select count(*) from ( select mms_merchants.* from mms_merchants ) tb_temp
2014-03-10 14:52:40,777 [12] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/project/Index','/Mms/project')
2014-03-10 14:52:40,786 [12] DEBUG Servicemms_project - 获取实体对象
2014-03-10 14:52:40,786 [12] DEBUG Mms - select mms_project.* from mms_project where ProjectCode='201306030001'
2014-03-10 14:52:40,790 [12] DEBUG Servicemms_project - 获取上一条下一条数据
2014-03-10 14:52:40,791 [12] DEBUG Servicemms_project - 获取字段
2014-03-10 14:52:40,792 [12] DEBUG Mms - select top 1 ProjectCode from mms_project where ProjectCode='201306030001' order by ProjectCode
2014-03-10 14:52:40,794 [12] DEBUG Servicemms_project - 获取字段
2014-03-10 14:52:40,794 [12] DEBUG Mms - select top 1 ProjectCode from mms_project where ProjectCode<'201306030001' and ProjectCode='201306030001' order by ProjectCode desc
2014-03-10 14:52:40,795 [12] DEBUG Servicemms_project - 获取字段
2014-03-10 14:52:40,795 [12] DEBUG Mms - select top 1 ProjectCode from mms_project where ProjectCode>'201306030001' and ProjectCode='201306030001' order by ProjectCode
2014-03-10 14:52:40,797 [12] DEBUG Servicemms_project - 获取字段
2014-03-10 14:52:40,797 [12] DEBUG Mms - select top 1 ProjectCode from mms_project where ProjectCode='201306030001' order by ProjectCode desc
2014-03-10 14:52:40,825 [12] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:52:40,826 [12] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='PartAttr'
2014-03-10 14:52:40,829 [12] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:52:40,829 [12] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='ImagePart'
2014-03-10 14:52:42,606 [24] DEBUG Servicemms_project - 获取动态列表
2014-03-10 14:52:42,607 [24] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2014-03-10 14:52:42,741 [24] DEBUG Servicemms_buildPart - 获取实体列表
2014-03-10 14:52:42,742 [24] DEBUG Mms - select mms_buildPart.* from mms_buildPart where ProjectCode='201306030001'
2014-03-10 14:52:42,764 [22] DEBUG Servicemms_project - 获取实体对象
2014-03-10 14:52:42,765 [22] DEBUG Mms - select mms_project.* from mms_project where ProjectCode='201306030001'
2014-03-10 14:52:42,765 [22] DEBUG Servicemms_project - 获取上一条下一条数据
2014-03-10 14:52:42,765 [22] DEBUG Servicemms_project - 获取字段
2014-03-10 14:52:42,765 [22] DEBUG Mms - select top 1 ProjectCode from mms_project where ProjectCode='201306030001' order by ProjectCode
2014-03-10 14:52:42,766 [22] DEBUG Servicemms_project - 获取字段
2014-03-10 14:52:42,766 [22] DEBUG Mms - select top 1 ProjectCode from mms_project where ProjectCode<'201306030001' and ProjectCode='201306030001' order by ProjectCode desc
2014-03-10 14:52:42,766 [22] DEBUG Servicemms_project - 获取字段
2014-03-10 14:52:42,766 [22] DEBUG Mms - select top 1 ProjectCode from mms_project where ProjectCode>'201306030001' and ProjectCode='201306030001' order by ProjectCode
2014-03-10 14:52:42,766 [22] DEBUG Servicemms_project - 获取字段
2014-03-10 14:52:42,766 [22] DEBUG Mms - select top 1 ProjectCode from mms_project where ProjectCode='201306030001' order by ProjectCode desc
2014-03-10 14:52:44,442 [24] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/warehouse/Index','/Mms/warehouse')
2014-03-10 14:52:45,197 [22] DEBUG Servicemms_project - 获取动态列表
2014-03-10 14:52:45,199 [22] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2014-03-10 14:52:45,238 [24] DEBUG Servicemms_warehouse - 获取实体列表
2014-03-10 14:52:45,238 [24] DEBUG Mms - select top 20 mms_warehouse.* from mms_warehouse order by WarehouseCode
2014-03-10 14:52:45,250 [24] DEBUG Mms - select count(*) from ( select mms_warehouse.* from mms_warehouse ) tb_temp
2014-03-10 14:52:47,213 [24] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/material/Index','/Mms/material')
2014-03-10 14:52:47,966 [24] DEBUG Servicemms_materialType - 获取动态列表
2014-03-10 14:52:47,966 [24] DEBUG Mms - select mms_materialType.* from mms_materialType order by MaterialType
2014-03-10 14:52:48,010 [22] DEBUG Servicemms_material - 获取实体列表
2014-03-10 14:52:48,011 [22] DEBUG Mms - select top 20 mms_material.* from mms_material order by MaterialCode
2014-03-10 14:52:48,022 [22] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material ) tb_temp
2014-03-10 14:52:50,083 [12] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/merchant/Index','/Mms/merchant')
2014-03-10 14:52:50,437 [24] DEBUG Servicemms_merchantsType - 获取动态列表
2014-03-10 14:52:50,438 [24] DEBUG Mms - select mms_merchantsType.* from mms_merchantsType order by MerchantsTypeCode
2014-03-10 14:52:50,473 [22] DEBUG Servicemms_merchants - 获取实体列表
2014-03-10 14:52:50,473 [22] DEBUG Mms - select top 20 mms_merchants.* from mms_merchants order by MerchantsCode
2014-03-10 14:52:50,475 [22] DEBUG Mms - select count(*) from ( select mms_merchants.* from mms_merchants ) tb_temp
2014-03-10 14:52:51,701 [12] DEBUG Servicemms_merchants - 获取实体列表
2014-03-10 14:52:51,701 [12] DEBUG Mms - select top 20 mms_merchants.* from mms_merchants where MerchantsTypeCode='004' order by MerchantsCode
2014-03-10 14:52:51,704 [12] DEBUG Mms - select count(*) from ( select mms_merchants.* from mms_merchants where MerchantsTypeCode='004' ) tb_temp
2014-03-10 14:52:57,706 [22] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/repair/Index','/Mms/repair')
2014-03-10 14:52:57,729 [22] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 14:52:57,729 [22] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 14:52:58,730 [22] DEBUG Servicemms_repair - 获取动态列表
2014-03-10 14:52:58,730 [22] DEBUG Mms - select top 20 A.*, B.ProjectName, C.MerchantsName from mms_repair A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_merchants     C on C.MerchantsCode    = A.RepairUnit where A.ProjectCode='201306030001' order by A.BillNo
2014-03-10 14:52:58,930 [22] DEBUG Mms - select count(*) from ( select A.*, B.ProjectName, C.MerchantsName from mms_repair A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_merchants     C on C.MerchantsCode    = A.RepairUnit where A.ProjectCode='201306030001' ) tb_temp
2014-03-10 14:52:59,781 [12] DEBUG Servicemms_repair - 获取新主键
2014-03-10 14:52:59,781 [12] DEBUG Mms - select isnull(max(BillNo),0) from mms_repair
2014-03-10 14:52:59,859 [24] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/repair/edit')
2014-03-10 14:52:59,867 [24] DEBUG Servicemms_repair - 获取实体对象
2014-03-10 14:52:59,867 [24] DEBUG Mms - select mms_repair.* from mms_repair where BillNo='201403100001'
2014-03-10 14:52:59,869 [24] DEBUG Servicemms_repair - 获取上一条下一条数据
2014-03-10 14:52:59,870 [24] DEBUG Servicemms_repair - 获取字段
2014-03-10 14:52:59,870 [24] DEBUG Mms - select top 1 BillNo from mms_repair where ProjectCode='201306030001' order by BillNo
2014-03-10 14:52:59,885 [24] DEBUG Servicemms_repair - 获取字段
2014-03-10 14:52:59,885 [24] DEBUG Mms - select top 1 BillNo from mms_repair where BillNo<'201403100001' and ProjectCode='201306030001' order by BillNo desc
2014-03-10 14:52:59,888 [24] DEBUG Servicemms_repair - 获取字段
2014-03-10 14:52:59,888 [24] DEBUG Mms - select top 1 BillNo from mms_repair where BillNo>'201403100001' and ProjectCode='201306030001' order by BillNo
2014-03-10 14:52:59,902 [24] DEBUG Servicemms_repair - 获取字段
2014-03-10 14:52:59,902 [24] DEBUG Mms - select top 1 BillNo from mms_repair where ProjectCode='201306030001' order by BillNo desc
2014-03-10 14:52:59,913 [24] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:52:59,913 [24] DEBUG Sys - select Text as value,Text as text from sys_code where CodeType='MeasureUnit'
2014-03-10 14:52:59,916 [24] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:52:59,917 [24] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 14:52:59,917 [24] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:52:59,917 [24] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='PayType'
2014-03-10 14:52:59,924 [24] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 14:52:59,924 [24] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 14:53:01,599 [24] DEBUG Servicemms_repairDetail - 获取动态列表
2014-03-10 14:53:01,600 [24] DEBUG Mms - select * from mms_repairDetail where BillNo='201403100001' order by RepairNo
2014-03-10 14:53:05,588 [12] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/check/Index','/Mms/check')
2014-03-10 14:53:05,594 [12] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 14:53:05,594 [12] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 14:53:06,660 [22] DEBUG Servicemms_check - 获取动态列表
2014-03-10 14:53:06,661 [22] DEBUG Mms - select top 20 A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName from mms_check A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode where isnull(A.BookMoney,0)<>isnull(A.OperateMoney,0) and A.ProjectCode='201306030001' order by A.BillNo
2014-03-10 14:53:06,897 [22] DEBUG Mms - select count(*) from ( select A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName from mms_check A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode where isnull(A.BookMoney,0)<>isnull(A.OperateMoney,0) and A.ProjectCode='201306030001' ) tb_temp
2014-03-10 14:53:08,340 [24] DEBUG Servicemms_check - 获取新主键
2014-03-10 14:53:08,340 [24] DEBUG Mms - select isnull(max(BillNo),0) from mms_check
2014-03-10 14:53:08,400 [22] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/check/edit')
2014-03-10 14:53:08,408 [22] DEBUG Servicemms_check - 获取实体对象
2014-03-10 14:53:08,408 [22] DEBUG Mms - select mms_check.* from mms_check where BillNo='201403100001'
2014-03-10 14:53:08,410 [22] DEBUG Servicemms_check - 获取上一条下一条数据
2014-03-10 14:53:08,410 [22] DEBUG Servicemms_check - 获取字段
2014-03-10 14:53:08,411 [22] DEBUG Mms - select top 1 BillNo from mms_check where ProjectCode='201306030001' order by BillNo
2014-03-10 14:53:08,412 [22] DEBUG Servicemms_check - 获取字段
2014-03-10 14:53:08,412 [22] DEBUG Mms - select top 1 BillNo from mms_check where BillNo<'201403100001' and ProjectCode='201306030001' order by BillNo desc
2014-03-10 14:53:08,414 [22] DEBUG Servicemms_check - 获取字段
2014-03-10 14:53:08,414 [22] DEBUG Mms - select top 1 BillNo from mms_check where BillNo>'201403100001' and ProjectCode='201306030001' order by BillNo
2014-03-10 14:53:08,417 [22] DEBUG Servicemms_check - 获取字段
2014-03-10 14:53:08,418 [22] DEBUG Mms - select top 1 BillNo from mms_check where ProjectCode='201306030001' order by BillNo desc
2014-03-10 14:53:08,435 [22] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:53:08,435 [22] DEBUG Sys - select Text as value,Text as text from sys_code where CodeType='MeasureUnit'
2014-03-10 14:53:08,447 [22] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 14:53:08,447 [22] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 14:53:10,090 [24] DEBUG Servicemms_check - 获取动态列表
2014-03-10 14:53:10,090 [24] DEBUG Mms - select A.*, B.MaterialName,B.Model,B.Material from mms_checkDetail A left join mms_material B on B.MaterialCode = A.MaterialCode where BillNo='201403100001' order by A.MaterialCode
2014-03-10 14:59:43,344 [18] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:59:43,364 [18] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 14:59:43,371 [18] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 14:59:43,391 [18] DEBUG Servicesys_parameter - 获取字段
2014-03-10 14:59:43,391 [18] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 14:59:47,599 [17] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 14:59:47,601 [17] DEBUG Servicesys_code - 获取动态列表
2014-03-10 14:59:47,601 [17] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 14:59:48,241 [17] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:59:48,247 [17] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 14:59:48,249 [17] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 14:59:49,930 [25] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 14:59:49,930 [25] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 14:59:49,999 [17] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 14:59:50,001 [17] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 14:59:50,001 [17] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100007'
2014-03-10 14:59:50,003 [17] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 14:59:50,003 [17] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:59:50,003 [17] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100007' order by Jobno
2014-03-10 14:59:50,004 [17] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:59:50,004 [17] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100007' and Jobno='201403100007' order by Jobno desc
2014-03-10 14:59:50,005 [17] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:59:50,006 [17] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100007' and Jobno='201403100007' order by Jobno
2014-03-10 14:59:50,007 [17] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 14:59:50,007 [17] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100007' order by Jobno desc
2014-03-10 14:59:50,454 [25] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 14:59:50,454 [25] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100007' order by A.Jobno
2014-03-10 15:00:05,939 [25] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:00:05,939 [25] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:00:05,953 [25] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:00:05,954 [25] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:00:05,954 [25] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:00:06,455 [18] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:00:18,528 [25] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:00:18,529 [25] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:00:18,529 [25] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:00:19,696 [17] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:00:19,696 [17] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:00:19,698 [17] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:00:20,642 [18] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:00:20,643 [18] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:00:20,706 [18] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:00:20,707 [18] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:00:20,707 [18] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100008'
2014-03-10 15:00:20,721 [18] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:00:20,721 [18] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:00:20,721 [18] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100008' order by Jobno
2014-03-10 15:00:20,722 [18] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:00:20,722 [18] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100008' and Jobno='201403100008' order by Jobno desc
2014-03-10 15:00:20,723 [18] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:00:20,723 [18] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100008' and Jobno='201403100008' order by Jobno
2014-03-10 15:00:20,724 [18] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:00:20,724 [18] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100008' order by Jobno desc
2014-03-10 15:32:36,420 [41] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:32:36,467 [41] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:32:36,477 [41] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:32:36,480 [41] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:32:36,480 [41] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:32:36,962 [41] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:32:40,535 [40] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:32:40,537 [40] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:32:40,537 [40] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:32:41,601 [40] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:32:41,623 [40] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:32:41,625 [40] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:32:42,802 [41] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:32:42,802 [41] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:32:42,865 [40] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:32:42,868 [40] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:32:42,868 [40] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100009'
2014-03-10 15:32:42,870 [40] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:32:42,870 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:32:42,870 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100009' order by Jobno
2014-03-10 15:32:42,872 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:32:42,872 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100009' and Jobno='201403100009' order by Jobno desc
2014-03-10 15:32:42,873 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:32:42,873 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100009' and Jobno='201403100009' order by Jobno
2014-03-10 15:32:42,902 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:32:42,902 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100009' order by Jobno desc
2014-03-10 15:32:43,327 [40] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:32:43,327 [40] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100009' order by A.Jobno
2014-03-10 15:32:59,035 [40] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:32:59,035 [40] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:32:59,041 [40] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:32:59,042 [40] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:32:59,043 [40] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:32:59,624 [40] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:33:03,785 [41] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:33:03,787 [41] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:33:03,787 [41] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:33:04,796 [41] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:33:04,796 [41] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:33:04,798 [41] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:33:05,760 [40] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:33:05,760 [40] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:33:05,831 [40] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:33:05,832 [40] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:33:05,832 [40] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100010'
2014-03-10 15:33:05,834 [40] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:33:05,834 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:05,834 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100010' order by Jobno
2014-03-10 15:33:05,835 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:05,835 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100010' and Jobno='201403100010' order by Jobno desc
2014-03-10 15:33:05,838 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:05,838 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100010' and Jobno='201403100010' order by Jobno
2014-03-10 15:33:05,839 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:05,840 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100010' order by Jobno desc
2014-03-10 15:33:37,557 [41] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:33:37,557 [41] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:33:37,619 [40] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:33:37,620 [40] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:33:37,620 [40] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100011'
2014-03-10 15:33:37,659 [40] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:33:37,659 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:37,659 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100011' order by Jobno
2014-03-10 15:33:37,662 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:37,662 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100011' and Jobno='201403100011' order by Jobno desc
2014-03-10 15:33:37,664 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:37,664 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100011' and Jobno='201403100011' order by Jobno
2014-03-10 15:33:37,665 [40] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:37,665 [40] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100011' order by Jobno desc
2014-03-10 15:33:45,193 [20] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:33:45,193 [20] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:33:45,270 [20] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:33:45,271 [20] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:33:45,271 [20] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100012'
2014-03-10 15:33:45,274 [20] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:33:45,274 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:45,274 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100012' order by Jobno
2014-03-10 15:33:45,275 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:45,275 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100012' and Jobno='201403100012' order by Jobno desc
2014-03-10 15:33:45,276 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:45,276 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100012' and Jobno='201403100012' order by Jobno
2014-03-10 15:33:45,277 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:33:45,277 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100012' order by Jobno desc
2014-03-10 15:35:57,015 [41] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:35:57,015 [41] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:35:57,021 [41] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:35:57,023 [41] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:35:57,023 [41] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:35:57,578 [20] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:36:00,497 [41] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:36:00,499 [41] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:36:00,499 [41] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:36:01,540 [41] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:36:01,540 [41] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:36:01,544 [41] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:36:02,478 [20] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:36:02,478 [20] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:36:02,546 [20] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:36:02,549 [20] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:36:02,550 [20] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100013'
2014-03-10 15:36:02,551 [20] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:36:02,551 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:36:02,551 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100013' order by Jobno
2014-03-10 15:36:02,553 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:36:02,553 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100013' and Jobno='201403100013' order by Jobno desc
2014-03-10 15:36:02,554 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:36:02,555 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100013' and Jobno='201403100013' order by Jobno
2014-03-10 15:36:02,556 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:36:02,556 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100013' order by Jobno desc
2014-03-10 15:36:02,990 [20] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:36:02,991 [20] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100013' order by A.Jobno
2014-03-10 15:37:36,978 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:37:37,004 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:37:37,010 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:37:37,016 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:37:37,021 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:37:37,028 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:37:37,339 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:37:37,351 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:37:37,750 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:37:38,070 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:37:38,070 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:37:38,992 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:37:51,588 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:37:51,602 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:37:51,603 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:37:52,969 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:37:52,969 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:37:53,016 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:37:54,351 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:37:54,353 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:37:54,444 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:37:54,454 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:37:54,455 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:37:54,485 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:37:54,493 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:37:54,493 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:37:54,514 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:37:54,514 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:37:54,525 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:37:54,525 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:37:54,555 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:37:54,555 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:37:55,277 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:37:55,277 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 15:39:36,932 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:39:36,955 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:39:36,962 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:39:36,965 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:39:36,970 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:39:36,973 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:39:37,280 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:39:37,292 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:39:37,694 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:39:38,028 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:39:38,028 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:39:38,944 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:39:46,163 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:39:46,174 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:39:46,177 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:39:47,524 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:39:47,524 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:39:47,570 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:39:48,383 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:39:48,386 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:39:48,484 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:39:48,494 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:39:48,494 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:39:48,524 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:39:48,531 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:39:48,532 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:39:48,547 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:39:48,548 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:39:48,557 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:39:48,557 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:39:48,571 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:39:48,571 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:39:49,338 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:39:49,346 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 15:43:25,648 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:43:25,648 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:43:25,653 [8] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:43:25,655 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:43:25,655 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:43:26,167 [8] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:43:29,626 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:43:29,628 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:43:29,628 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:43:30,232 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:43:30,232 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:43:30,234 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:43:31,547 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:43:31,547 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:43:31,610 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:43:31,611 [11] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:43:31,612 [11] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 15:43:31,615 [11] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:43:31,615 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:43:31,615 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 15:43:31,615 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:43:31,615 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 15:43:31,616 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:43:31,616 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 15:43:31,616 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:43:31,616 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 15:43:32,051 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:43:32,052 [8] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100002' order by A.Jobno
2014-03-10 15:43:54,381 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:43:54,402 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:43:54,409 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:43:54,412 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:43:54,417 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:43:54,421 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:43:54,725 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:43:54,737 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:43:55,130 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:43:55,452 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:43:55,452 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:43:56,379 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:44:03,394 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:44:03,407 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:44:03,408 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:44:04,754 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:44:04,754 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:44:04,800 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:44:06,443 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:44:06,445 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:44:06,537 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:44:06,547 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:44:06,548 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:44:06,558 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:44:06,566 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:44:06,567 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:44:06,595 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:44:06,595 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:44:06,607 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:44:06,607 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:44:06,617 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:44:06,617 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:44:49,906 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:44:49,929 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:44:49,935 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:44:49,938 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:44:49,943 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:44:49,946 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:44:50,257 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:44:50,270 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:44:50,676 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:44:50,998 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:44:50,998 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:44:51,886 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:44:57,444 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:44:57,458 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:44:57,459 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:44:58,794 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:44:58,795 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:44:58,840 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:45:00,019 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:45:00,021 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:45:00,113 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:45:00,125 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:45:00,126 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:45:00,152 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:45:00,161 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:45:00,161 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:45:00,183 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:45:00,183 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:45:00,196 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:45:00,196 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:45:00,226 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:45:00,226 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:45:28,263 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:45:28,285 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:45:28,291 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:45:28,294 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:45:28,300 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:45:28,303 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:45:28,612 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:45:28,625 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:45:29,041 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:45:29,366 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:45:29,367 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:45:30,280 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:45:35,659 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:45:35,672 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:45:35,674 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:45:37,033 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:45:37,033 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:45:37,078 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:45:37,918 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:45:37,920 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:45:38,020 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:45:38,030 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:45:38,031 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:45:38,057 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:45:38,065 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:45:38,066 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:45:38,089 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:45:38,089 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:45:38,098 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:45:38,099 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:45:38,121 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:45:38,121 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:46:38,228 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:46:38,249 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:46:38,256 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:46:38,259 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:46:38,264 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:46:38,268 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:46:38,558 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:46:38,569 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:46:38,879 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:46:39,172 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:46:39,172 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:46:40,056 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:46:48,543 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:46:48,556 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:46:48,557 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:46:50,355 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:46:50,356 [5] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:46:50,402 [5] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:46:51,467 [5] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:46:51,470 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:46:51,558 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:46:51,567 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:46:51,568 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:46:51,584 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:46:51,592 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:46:51,592 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:46:51,610 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:46:51,611 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:46:51,621 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:46:51,621 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:46:51,633 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:46:51,634 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:47:31,663 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:47:31,664 [8] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 15:48:27,330 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:27,344 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:27,347 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:27,348 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:27,350 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:27,350 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:27,611 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:48:27,621 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:48:27,903 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:48:28,110 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:48:28,110 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:48:29,044 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:48:31,481 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:48:31,488 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:48:31,488 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:48:32,249 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:48:32,250 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:48:32,263 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:48:32,980 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:48:32,982 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:48:33,068 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:48:33,072 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:48:33,073 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:48:33,076 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:48:33,084 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:48:33,084 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:48:33,087 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:48:33,088 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:48:33,097 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:48:33,098 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:48:33,101 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:48:33,102 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:48:33,561 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:48:33,562 [6] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 15:48:59,712 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:59,727 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:59,733 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:59,733 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:59,735 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:59,736 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:48:59,954 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:48:59,963 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:49:00,113 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:49:00,313 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:49:00,313 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:49:01,106 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:49:04,261 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:49:04,268 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:49:04,269 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:49:05,420 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:49:05,420 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:49:05,429 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:49:06,435 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:49:06,438 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:49:06,507 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:49:06,510 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:49:06,511 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:49:06,513 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:49:06,521 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:49:06,522 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:49:06,523 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:49:06,523 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:49:06,525 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:49:06,525 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:49:06,526 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:49:06,526 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:49:13,035 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:49:13,035 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:49:13,107 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:49:13,109 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:49:13,109 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 15:49:13,110 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:49:13,110 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:49:13,110 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 15:49:13,110 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:49:13,110 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 15:49:13,111 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:49:13,111 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 15:49:13,111 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:49:13,111 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 15:51:36,834 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:51:36,860 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:51:36,868 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:51:36,874 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:51:36,881 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:51:36,885 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:51:37,197 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:51:37,208 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:51:37,513 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:51:37,804 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:51:37,804 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:51:38,658 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:51:40,085 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:51:40,105 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:51:40,106 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:51:41,369 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:51:41,369 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:51:41,414 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:51:42,404 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:51:42,409 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:51:42,483 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:51:42,491 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:51:42,492 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:51:42,503 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:51:42,510 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:51:42,510 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:51:42,521 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:51:42,521 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:51:42,529 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:51:42,529 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:51:42,537 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:51:42,537 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:52:06,434 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:52:06,455 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:52:06,461 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:52:06,465 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:52:06,470 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:52:06,473 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:52:06,744 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:52:06,755 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:52:07,130 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:52:07,414 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:52:07,415 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:52:08,523 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:52:19,125 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:52:19,140 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:52:19,141 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:52:20,414 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:52:20,415 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:52:20,458 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:52:22,128 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:52:22,130 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:52:22,217 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:52:22,226 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:52:22,227 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:52:22,237 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:52:22,244 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:52:22,244 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:52:22,271 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:52:22,271 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:52:22,280 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:52:22,281 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:52:22,289 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:52:22,289 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:52:55,582 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:52:55,583 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:52:55,679 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:52:55,685 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:52:55,685 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 15:52:55,692 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:52:55,692 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:52:55,692 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 15:52:55,700 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:52:55,700 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 15:52:55,717 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:52:55,717 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 15:52:55,737 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:52:55,738 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 15:53:03,841 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:53:03,853 [5] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:53:03,853 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 15:53:03,861 [5] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:53:03,861 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:53:03,861 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 15:53:03,868 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:53:03,868 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 15:53:03,876 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:53:03,876 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 15:53:03,883 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:53:03,883 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 15:53:11,913 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:53:11,913 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:53:11,927 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:53:11,933 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:53:11,933 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:53:12,691 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:53:13,307 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:53:13,313 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:53:13,313 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 15:53:13,321 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:53:13,321 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:53:13,321 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 15:53:13,335 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:53:13,335 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 15:53:13,355 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:53:13,356 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 15:53:13,377 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:53:13,378 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 15:56:43,499 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:56:43,519 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:56:43,529 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:56:43,529 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:56:43,539 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:56:43,539 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:56:43,839 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:56:43,849 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:56:44,193 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:56:44,473 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:56:44,473 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:56:45,555 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:57:05,376 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:57:05,396 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:57:05,396 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:57:07,033 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:57:07,033 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:57:07,083 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:57:08,135 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:57:08,135 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:57:08,238 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:57:08,248 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:57:08,250 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:57:08,279 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:57:08,287 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:57:08,287 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:57:08,300 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:57:08,300 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:57:08,313 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:57:08,313 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:57:08,338 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:57:08,338 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:57:14,409 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:57:14,409 [6] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 15:57:40,987 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:57:40,995 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:57:40,995 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:57:40,995 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:57:40,995 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:57:40,995 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 15:57:41,205 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:57:41,205 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 15:57:41,355 [8] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 15:57:41,555 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 15:57:41,555 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 15:57:42,453 [8] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 15:58:28,272 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 15:58:28,284 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 15:58:28,284 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 15:58:29,406 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:58:29,406 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 15:58:29,406 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 15:58:30,624 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 15:58:30,624 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 15:58:30,694 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 15:58:30,704 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 15:58:30,704 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 15:58:30,706 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 15:58:30,714 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:58:30,714 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 15:58:30,716 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:58:30,716 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 15:58:30,729 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:58:30,729 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 15:58:30,731 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 15:58:30,731 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 15:58:31,778 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 15:58:31,778 [8] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 16:01:49,212 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:01:49,212 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:01:49,222 [12] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:01:49,222 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:01:49,222 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:01:49,722 [9] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:01:52,133 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 16:01:52,143 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:01:52,143 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 16:01:53,083 [9] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:01:53,083 [9] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 16:01:53,086 [9] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 16:01:54,666 [13] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 16:01:54,666 [13] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 16:01:54,736 [9] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 16:01:54,746 [9] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 16:01:54,746 [9] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 16:01:54,749 [9] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 16:01:54,749 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:01:54,749 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 16:01:54,749 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:01:54,749 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 16:01:54,749 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:01:54,749 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 16:01:54,749 [9] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:01:54,749 [9] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 16:01:56,877 [9] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:01:56,877 [9] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100002' order by A.Jobno
2014-03-10 16:05:40,683 [9] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:05:40,683 [9] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:05:40,694 [9] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:05:40,695 [9] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:05:40,695 [9] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:05:41,206 [13] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:05:44,849 [9] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/receive/Index','/Mms/receive')
2014-03-10 16:05:44,869 [9] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 16:05:44,883 [9] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 16:05:44,883 [9] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:05:44,883 [9] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 16:05:45,932 [8] DEBUG Servicemms_receive - 获取动态列表
2014-03-10 16:05:45,933 [8] DEBUG Mms - select top 20 A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName from mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_warehouse     D on D.WarehouseCode    = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode where A.ProjectCode='201306030001' order by A.BillNo
2014-03-10 16:05:45,940 [8] DEBUG Mms - select count(*) from ( select A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName as WarehouseName, E.MerchantsName AS SupplierName from mms_receive A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_warehouse     D on D.WarehouseCode    = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.SupplierCode where A.ProjectCode='201306030001' ) tb_temp
2014-03-10 16:05:46,784 [12] DEBUG Servicemms_receive - 获取新主键
2014-03-10 16:05:46,784 [12] DEBUG Mms - select isnull(max(BillNo),0) from mms_receive
2014-03-10 16:05:46,911 [13] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/receive/edit')
2014-03-10 16:05:46,914 [13] DEBUG Servicemms_receive - 获取实体对象
2014-03-10 16:05:46,915 [13] DEBUG Mms - select mms_receive.* from mms_receive where BillNo='201403100001'
2014-03-10 16:05:46,916 [13] DEBUG Servicemms_receive - 获取上一条下一条数据
2014-03-10 16:05:46,917 [13] DEBUG Servicemms_receive - 获取字段
2014-03-10 16:05:46,917 [13] DEBUG Mms - select top 1 BillNo from mms_receive where ProjectCode='201306030001' order by BillNo
2014-03-10 16:05:46,918 [13] DEBUG Servicemms_receive - 获取字段
2014-03-10 16:05:46,918 [13] DEBUG Mms - select top 1 BillNo from mms_receive where BillNo<'201403100001' and ProjectCode='201306030001' order by BillNo desc
2014-03-10 16:05:46,919 [13] DEBUG Servicemms_receive - 获取字段
2014-03-10 16:05:46,919 [13] DEBUG Mms - select top 1 BillNo from mms_receive where BillNo>'201403100001' and ProjectCode='201306030001' order by BillNo
2014-03-10 16:05:46,920 [13] DEBUG Servicemms_receive - 获取字段
2014-03-10 16:05:46,920 [13] DEBUG Mms - select top 1 BillNo from mms_receive where ProjectCode='201306030001' order by BillNo desc
2014-03-10 16:05:46,932 [13] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:05:46,932 [13] DEBUG Sys - select Text as value,Text as text from sys_code where CodeType='MeasureUnit'
2014-03-10 16:05:46,933 [13] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:05:46,933 [13] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 16:05:46,933 [13] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:05:46,933 [13] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='PayType'
2014-03-10 16:05:46,934 [13] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 16:05:46,934 [13] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 16:05:46,934 [13] DEBUG Servicesys_code - 获取字段
2014-03-10 16:05:46,935 [13] DEBUG Sys - select top 1 Code from sys_code where CodeType='SupplyType' and IsEnable='1' and IsDefault='1'
2014-03-10 16:05:46,935 [13] DEBUG Servicesys_code - 获取字段
2014-03-10 16:05:46,935 [13] DEBUG Sys - select top 1 Code from sys_code where CodeType='PayType' and IsEnable='1' and IsDefault='1'
2014-03-10 16:05:48,748 [9] DEBUG Servicemms_receive - 获取动态列表
2014-03-10 16:05:48,748 [9] DEBUG Mms - select A.*, B.MaterialName,B.Model,B.Material from mms_receiveDetail A
        left join mms_material B on B.MaterialCode = A.MaterialCode where BillNo='201403100001' order by A.MaterialCode
2014-03-10 16:10:28,112 [11] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:10:28,124 [11] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:10:28,128 [11] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:10:28,128 [11] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:10:28,130 [11] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:10:28,130 [11] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:10:28,333 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:10:28,342 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:10:28,495 [12] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:10:28,720 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:10:28,720 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:10:29,556 [10] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:10:46,600 [10] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 16:10:46,606 [10] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:10:46,607 [10] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 16:10:47,752 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:10:47,753 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 16:10:47,762 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 16:10:48,559 [12] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 16:10:48,560 [12] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 16:10:48,629 [10] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 16:10:48,633 [10] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 16:10:48,634 [10] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 16:10:48,636 [10] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 16:10:48,643 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:10:48,644 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 16:10:48,644 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:10:48,645 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 16:10:48,646 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:10:48,646 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 16:10:48,647 [10] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:10:48,647 [10] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 16:10:54,327 [10] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:10:54,328 [10] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 16:13:26,182 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:13:26,182 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:13:26,191 [12] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:13:26,192 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:13:26,193 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:13:26,764 [8] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:13:29,515 [12] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 16:13:29,517 [12] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:13:29,517 [12] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 16:13:30,553 [12] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:13:30,553 [12] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 16:13:30,555 [12] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 16:13:31,572 [10] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 16:13:31,572 [10] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 16:13:31,647 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 16:13:31,649 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 16:13:31,649 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 16:13:31,650 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 16:13:31,650 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:13:31,650 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 16:13:31,650 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:13:31,651 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 16:13:31,651 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:13:31,651 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 16:13:31,651 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:13:31,651 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 16:13:32,748 [10] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:13:32,749 [10] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100002' order by A.Jobno
2014-03-10 16:15:00,632 [13] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:15:00,632 [13] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:15:00,640 [13] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:15:00,642 [13] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:15:00,642 [13] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:15:01,153 [13] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:17:03,020 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:17:03,021 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:17:03,037 [12] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:17:03,040 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:17:03,040 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:17:03,507 [17] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:17:07,040 [14] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 16:17:07,042 [14] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:17:07,042 [14] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 16:17:08,008 [12] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:17:08,008 [12] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 16:17:08,009 [12] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 16:17:09,095 [16] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 16:17:09,095 [16] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 16:17:09,168 [14] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 16:17:09,169 [14] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 16:17:09,169 [14] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 16:17:09,171 [14] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 16:17:09,171 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:17:09,171 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 16:17:09,171 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:17:09,171 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 16:17:09,172 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:17:09,172 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 16:17:09,172 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:17:09,172 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 16:17:10,248 [10] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:17:10,248 [10] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 16:17:36,586 [17] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 16:17:36,621 [17] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 16:17:36,645 [17] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_BLNO],[TR_CONNO],[TR_SEALNO],[TR_CARRI],[TR_CARNO],[TR_ORDERDATE],[ProjectCode]) values('201403100003','5','6','6','6','6','6','2014/3/10 16:17:09','201306030001')
2014-03-10 16:17:36,713 [17] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:f3dc895f-8a3d-40c5-9ef9-44eabb8a3e9c
2014-03-10 16:17:36,756 [17] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 237
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:f3dc895f-8a3d-40c5-9ef9-44eabb8a3e9c
2014-03-10 16:18:29,624 [7] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 16:18:29,625 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 16:18:29,627 [7] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_BLNO],[TR_CONNO],[TR_SEALNO],[TR_CARRI],[TR_CARNO],[TR_ORDERDATE],[ProjectCode]) values('201403100003','5','6','6','6','6','6','2014/3/10 16:17:09','201306030001')
2014-03-10 16:18:29,628 [7] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:f3dc895f-8a3d-40c5-9ef9-44eabb8a3e9c
2014-03-10 16:18:29,635 [7] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 237
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:f3dc895f-8a3d-40c5-9ef9-44eabb8a3e9c
2014-03-10 16:19:59,089 [7] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 16:19:59,090 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 16:19:59,091 [7] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_BLNO],[TR_CONNO],[TR_SEALNO],[TR_CARRI],[TR_CARNO],[TR_ORDERDATE],[ProjectCode]) values('201403100003','5','6','6','6','6','6','2014/3/10 16:17:09','201306030001')
2014-03-10 16:19:59,092 [7] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:f3dc895f-8a3d-40c5-9ef9-44eabb8a3e9c
2014-03-10 16:19:59,101 [7] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 237
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:f3dc895f-8a3d-40c5-9ef9-44eabb8a3e9c
2014-03-10 16:20:09,352 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:20:09,375 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:20:09,381 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:20:09,384 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:20:09,390 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:20:09,393 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:20:09,712 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:20:09,724 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:20:10,158 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:20:10,495 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:20:10,496 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:20:11,455 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:20:28,676 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 16:20:28,689 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:20:28,690 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 16:20:29,993 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:20:29,994 [8] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 16:20:30,037 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 16:20:31,009 [5] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 16:20:31,012 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 16:20:31,100 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 16:20:31,110 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 16:20:31,111 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 16:20:31,121 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 16:20:31,128 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:20:31,129 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 16:20:31,159 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:20:31,160 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 16:20:31,171 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:20:31,171 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 16:20:31,182 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:20:31,182 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 16:20:32,735 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:20:32,736 [5] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 16:26:54,823 [12] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 16:26:54,837 [12] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 16:26:54,873 [12] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_BLNO],[TR_CONNO],[TR_ORDERDATE],[ProjectCode]) values('201403100001','5','5','5','2014/3/10 16:20:31','201306030001')
2014-03-10 16:26:55,121 [12] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:a7d596fe-3acc-434a-8fbf-847b667bcea4
2014-03-10 16:27:23,873 [12] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 237
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:a7d596fe-3acc-434a-8fbf-847b667bcea4
2014-03-10 16:28:13,857 [12] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 16:30:59,632 [12] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 16:30:59,640 [12] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_BLNO],[TR_CONNO],[TR_ORDERDATE],[ProjectCode]) values('201403100001','5','5','5','2014/3/10 16:20:31','201306030001')
2014-03-10 16:30:59,776 [12] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:a7d596fe-3acc-434a-8fbf-847b667bcea4
2014-03-10 16:31:52,924 [12] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 237
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:a7d596fe-3acc-434a-8fbf-847b667bcea4
2014-03-10 16:41:47,037 [21] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:41:47,040 [21] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:41:47,048 [21] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:41:47,050 [21] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:41:47,050 [21] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:41:47,623 [23] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:41:50,385 [21] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 16:41:50,388 [21] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:41:50,388 [21] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 16:41:50,989 [18] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:41:50,992 [18] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 16:41:50,994 [18] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 16:41:52,110 [22] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 16:41:52,111 [22] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 16:41:52,168 [23] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 16:41:52,170 [23] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 16:41:52,170 [23] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 16:41:52,172 [23] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 16:41:52,172 [23] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:41:52,172 [23] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 16:41:52,172 [23] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:41:52,173 [23] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 16:41:52,173 [23] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:41:52,173 [23] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 16:41:52,173 [23] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:41:52,173 [23] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 16:41:53,269 [17] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:41:53,270 [17] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100002' order by A.Jobno
2014-03-10 16:42:21,244 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:42:21,269 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:42:21,282 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:42:21,285 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:42:21,291 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:42:21,295 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:42:25,976 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:42:25,998 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:42:26,401 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:42:26,692 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:42:26,693 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:42:27,666 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:42:36,397 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 16:42:36,409 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:42:36,410 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 16:42:37,726 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:42:37,727 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 16:42:37,774 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 16:42:38,535 [5] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 16:42:38,537 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 16:42:38,628 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 16:42:38,642 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 16:42:38,643 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 16:42:38,663 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 16:42:38,672 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:42:38,672 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 16:42:38,697 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:42:38,698 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 16:42:38,708 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:42:38,709 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 16:42:38,732 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:42:38,732 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 16:42:40,297 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:42:40,297 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 16:43:09,244 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/direct/Index','/Mms/direct')
2014-03-10 16:43:09,254 [7] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 16:43:09,254 [7] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 16:43:09,261 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:09,262 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 16:43:11,248 [7] DEBUG Servicemms_direct - 获取动态列表
2014-03-10 16:43:11,249 [7] DEBUG Mms - select top 20 A.*, B.ProjectName, C.MaterialTypeName,D.MerchantsName as SupplierName,E.MerchantsName as PickUnitName from mms_direct A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_merchants     D on D.MerchantsCode    = A.SupplierCode
        left join mms_merchants     E on E.MerchantsCode    = A.PickUnit where A.ProjectCode='201306030001' order by A.BillNo
2014-03-10 16:43:11,282 [7] DEBUG Mms - select count(*) from ( select A.*, B.ProjectName, C.MaterialTypeName,D.MerchantsName as SupplierName,E.MerchantsName as PickUnitName from mms_direct A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_merchants     D on D.MerchantsCode    = A.SupplierCode
        left join mms_merchants     E on E.MerchantsCode    = A.PickUnit where A.ProjectCode='201306030001' ) tb_temp
2014-03-10 16:43:13,075 [6] DEBUG Servicemms_direct - 获取新主键
2014-03-10 16:43:13,075 [6] DEBUG Mms - select isnull(max(BillNo),0) from mms_direct
2014-03-10 16:43:13,154 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/direct/edit')
2014-03-10 16:43:13,175 [6] DEBUG Servicemms_direct - 获取实体对象
2014-03-10 16:43:13,175 [6] DEBUG Mms - select mms_direct.* from mms_direct where BillNo='201403100001'
2014-03-10 16:43:13,198 [6] DEBUG Servicemms_direct - 获取上一条下一条数据
2014-03-10 16:43:13,199 [6] DEBUG Servicemms_direct - 获取字段
2014-03-10 16:43:13,199 [6] DEBUG Mms - select top 1 BillNo from mms_direct where ProjectCode='201306030001' order by BillNo
2014-03-10 16:43:13,219 [6] DEBUG Servicemms_direct - 获取字段
2014-03-10 16:43:13,219 [6] DEBUG Mms - select top 1 BillNo from mms_direct where BillNo<'201403100001' and ProjectCode='201306030001' order by BillNo desc
2014-03-10 16:43:13,227 [6] DEBUG Servicemms_direct - 获取字段
2014-03-10 16:43:13,228 [6] DEBUG Mms - select top 1 BillNo from mms_direct where BillNo>'201403100001' and ProjectCode='201306030001' order by BillNo
2014-03-10 16:43:13,258 [6] DEBUG Servicemms_direct - 获取字段
2014-03-10 16:43:13,258 [6] DEBUG Mms - select top 1 BillNo from mms_direct where ProjectCode='201306030001' order by BillNo desc
2014-03-10 16:43:13,449 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:13,449 [6] DEBUG Sys - select Text as value,Text as text from sys_code where CodeType='MeasureUnit'
2014-03-10 16:43:13,455 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:13,455 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 16:43:13,461 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:13,461 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='PayType'
2014-03-10 16:43:13,467 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:13,467 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='MaterialUse'
2014-03-10 16:43:13,487 [6] DEBUG Servicesys_code - 获取字段
2014-03-10 16:43:13,487 [6] DEBUG Sys - select top 1 Code from sys_code where CodeType='SupplyType' and IsEnable='1' and IsDefault='1'
2014-03-10 16:43:13,494 [6] DEBUG Servicesys_code - 获取字段
2014-03-10 16:43:13,495 [6] DEBUG Sys - select top 1 Code from sys_code where CodeType='PayType' and IsEnable='1' and IsDefault='1'
2014-03-10 16:43:19,069 [6] DEBUG Servicemms_direct - 获取动态列表
2014-03-10 16:43:19,069 [6] DEBUG Mms - select A.*, B.MaterialName,B.Model,B.Material from mms_directDetail A left join mms_material B on B.MaterialCode = A.MaterialCode where BillNo='201403100001' order by A.MaterialCode
2014-03-10 16:43:21,886 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/deal/Index','/Mms/deal')
2014-03-10 16:43:21,901 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:21,901 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='DisposalType'
2014-03-10 16:43:21,908 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:21,908 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='DisposalWay'
2014-03-10 16:43:23,662 [7] DEBUG Servicemms_deal - 获取动态列表
2014-03-10 16:43:23,663 [7] DEBUG Mms - select top 20 A.*, B.ProjectName from mms_deal A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode where A.ProjectCode='201306030001' order by A.BillNo
2014-03-10 16:43:23,876 [7] DEBUG Mms - select count(*) from ( select A.*, B.ProjectName from mms_deal A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode where A.ProjectCode='201306030001' ) tb_temp
2014-03-10 16:43:24,844 [5] DEBUG Servicemms_deal - 获取新主键
2014-03-10 16:43:24,845 [5] DEBUG Mms - select isnull(max(BillNo),0) from mms_deal
2014-03-10 16:43:24,916 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/deal/edit')
2014-03-10 16:43:24,929 [6] DEBUG Servicemms_deal - 获取实体对象
2014-03-10 16:43:24,929 [6] DEBUG Mms - select mms_deal.* from mms_deal where BillNo='201403100001'
2014-03-10 16:43:24,938 [6] DEBUG Servicemms_deal - 获取上一条下一条数据
2014-03-10 16:43:24,940 [6] DEBUG Servicemms_deal - 获取字段
2014-03-10 16:43:24,940 [6] DEBUG Mms - select top 1 BillNo from mms_deal where ProjectCode='201306030001' order by BillNo
2014-03-10 16:43:24,960 [6] DEBUG Servicemms_deal - 获取字段
2014-03-10 16:43:24,960 [6] DEBUG Mms - select top 1 BillNo from mms_deal where BillNo<'201403100001' and ProjectCode='201306030001' order by BillNo desc
2014-03-10 16:43:24,986 [6] DEBUG Servicemms_deal - 获取字段
2014-03-10 16:43:24,987 [6] DEBUG Mms - select top 1 BillNo from mms_deal where BillNo>'201403100001' and ProjectCode='201306030001' order by BillNo
2014-03-10 16:43:24,996 [6] DEBUG Servicemms_deal - 获取字段
2014-03-10 16:43:24,996 [6] DEBUG Mms - select top 1 BillNo from mms_deal where ProjectCode='201306030001' order by BillNo desc
2014-03-10 16:43:25,170 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:25,170 [6] DEBUG Sys - select Text as value,Text as text from sys_code where CodeType='MeasureUnit'
2014-03-10 16:43:25,176 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:25,176 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='DisposalType'
2014-03-10 16:43:25,181 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:25,182 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='DisposalWay'
2014-03-10 16:43:25,187 [6] DEBUG Servicesys_code - 获取字段
2014-03-10 16:43:25,187 [6] DEBUG Sys - select top 1 Code from sys_code where CodeType='DisposalType' and IsEnable='1' and IsDefault='1'
2014-03-10 16:43:25,198 [6] DEBUG Servicesys_code - 获取字段
2014-03-10 16:43:25,198 [6] DEBUG Sys - select top 1 Code from sys_code where CodeType='DisposalWay' and IsEnable='1' and IsDefault='1'
2014-03-10 16:43:27,557 [5] DEBUG Servicemms_dealDetail - 获取动态列表
2014-03-10 16:43:27,558 [5] DEBUG Mms - select A.*,B.MerchantsName as ExpendCompanyName from mms_dealDetail A
        left join mms_merchants B on B.MerchantsCode = A.ExpendCompany where BillNo='201403100001' order by A.RowId
2014-03-10 16:43:28,940 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/repair/Index','/Mms/repair')
2014-03-10 16:43:28,957 [6] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 16:43:28,957 [6] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 16:43:30,692 [5] DEBUG Servicemms_repair - 获取动态列表
2014-03-10 16:43:30,692 [5] DEBUG Mms - select top 20 A.*, B.ProjectName, C.MerchantsName from mms_repair A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_merchants     C on C.MerchantsCode    = A.RepairUnit where A.ProjectCode='201306030001' order by A.BillNo
2014-03-10 16:43:30,727 [5] DEBUG Mms - select count(*) from ( select A.*, B.ProjectName, C.MerchantsName from mms_repair A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_merchants     C on C.MerchantsCode    = A.RepairUnit where A.ProjectCode='201306030001' ) tb_temp
2014-03-10 16:43:32,781 [7] DEBUG Servicemms_repair - 获取新主键
2014-03-10 16:43:32,781 [7] DEBUG Mms - select isnull(max(BillNo),0) from mms_repair
2014-03-10 16:43:32,858 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Mms/repair/edit')
2014-03-10 16:43:32,866 [5] DEBUG Servicemms_repair - 获取实体对象
2014-03-10 16:43:32,867 [5] DEBUG Mms - select mms_repair.* from mms_repair where BillNo='201403100001'
2014-03-10 16:43:32,894 [5] DEBUG Servicemms_repair - 获取上一条下一条数据
2014-03-10 16:43:32,895 [5] DEBUG Servicemms_repair - 获取字段
2014-03-10 16:43:32,895 [5] DEBUG Mms - select top 1 BillNo from mms_repair where ProjectCode='201306030001' order by BillNo
2014-03-10 16:43:32,919 [5] DEBUG Servicemms_repair - 获取字段
2014-03-10 16:43:32,919 [5] DEBUG Mms - select top 1 BillNo from mms_repair where BillNo<'201403100001' and ProjectCode='201306030001' order by BillNo desc
2014-03-10 16:43:32,929 [5] DEBUG Servicemms_repair - 获取字段
2014-03-10 16:43:32,929 [5] DEBUG Mms - select top 1 BillNo from mms_repair where BillNo>'201403100001' and ProjectCode='201306030001' order by BillNo
2014-03-10 16:43:32,939 [5] DEBUG Servicemms_repair - 获取字段
2014-03-10 16:43:32,940 [5] DEBUG Mms - select top 1 BillNo from mms_repair where ProjectCode='201306030001' order by BillNo desc
2014-03-10 16:43:33,118 [5] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:33,118 [5] DEBUG Sys - select Text as value,Text as text from sys_code where CodeType='MeasureUnit'
2014-03-10 16:43:33,124 [5] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:33,124 [5] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='SupplyType'
2014-03-10 16:43:33,129 [5] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:43:33,129 [5] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='PayType'
2014-03-10 16:43:33,135 [5] DEBUG Servicemms_warehouse - 获取动态列表
2014-03-10 16:43:33,135 [5] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where ProjectCode='201306030001'
2014-03-10 16:43:35,558 [7] DEBUG Servicemms_repairDetail - 获取动态列表
2014-03-10 16:43:35,558 [7] DEBUG Mms - select * from mms_repairDetail where BillNo='201403100001' order by RepairNo
2014-03-10 16:43:37,842 [5] DEBUG Servicemms_repairDetail - 获取新主键
2014-03-10 16:43:37,843 [5] DEBUG Mms - select isnull(max(RowId),0) from mms_repairDetail  where 1 = 1 and BillNo='201403100001'
2014-03-10 16:49:04,590 [12] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:49:04,602 [12] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:49:04,605 [12] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:49:04,605 [12] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:49:04,607 [12] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:49:04,608 [12] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:49:04,816 [10] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:49:04,826 [10] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:49:04,990 [10] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:49:05,203 [10] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:49:05,204 [10] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:49:06,013 [11] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:49:08,263 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 16:49:08,269 [5] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:49:08,269 [5] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 16:49:09,454 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:49:09,455 [5] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 16:49:09,466 [5] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 16:49:09,951 [10] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 16:49:09,953 [10] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 16:49:10,032 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 16:49:10,035 [11] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 16:49:10,036 [11] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 16:49:10,039 [11] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 16:49:10,046 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:49:10,046 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 16:49:10,047 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:49:10,048 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 16:49:10,049 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:49:10,049 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 16:49:10,050 [11] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:49:10,051 [11] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 16:49:11,212 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:49:11,212 [5] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 16:54:10,952 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:54:10,974 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:54:10,979 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:54:10,982 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:54:10,988 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:54:10,991 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 16:54:11,306 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:54:11,317 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:54:11,714 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:54:12,013 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:54:12,013 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:54:12,974 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:54:20,640 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 16:54:20,653 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:54:20,654 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 16:54:21,971 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:54:21,972 [5] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 16:54:22,023 [5] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 16:54:22,601 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 16:54:22,603 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 16:54:22,695 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 16:54:22,705 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 16:54:22,706 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 16:54:22,727 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 16:54:22,740 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:54:22,740 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 16:54:22,758 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:54:22,758 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 16:54:22,767 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:54:22,767 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 16:54:22,775 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:54:22,776 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 16:54:24,348 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:54:24,348 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 16:55:52,820 [9] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:55:52,820 [9] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 16:55:52,824 [9] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 16:55:52,825 [9] DEBUG Servicesys_parameter - 获取字段
2014-03-10 16:55:52,826 [9] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 16:55:53,340 [5] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 16:55:55,851 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 16:55:55,853 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 16:55:55,853 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 16:55:56,895 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:55:56,896 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 16:55:56,898 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 16:55:57,683 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 16:55:57,683 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 16:55:57,763 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 16:55:57,764 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 16:55:57,764 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 16:55:57,766 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 16:55:57,766 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:55:57,766 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 16:55:57,767 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:55:57,767 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 16:55:57,767 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:55:57,767 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 16:55:57,768 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 16:55:57,768 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 16:55:58,841 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 16:55:58,841 [5] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100002' order by A.Jobno
2014-03-10 16:56:04,301 [5] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 16:56:04,310 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 16:56:04,320 [5] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_BLNO],[TR_CONNO],[TR_SEALNO],[TR_ORDERDATE],[ProjectCode]) values('201403100002','5','5','5','5','2014/3/10 16:55:57','201306030001')
2014-03-10 16:56:04,323 [5] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:ce465a93-39a2-4df9-9023-caee608a31df
2014-03-10 16:56:04,342 [5] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 237
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ce465a93-39a2-4df9-9023-caee608a31df
2014-03-10 17:04:53,707 [21] DEBUG Servicesys_parameter - 获取字段
2014-03-10 17:04:53,714 [21] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 17:04:53,722 [21] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 17:04:53,724 [21] DEBUG Servicesys_parameter - 获取字段
2014-03-10 17:04:53,724 [21] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 17:05:03,730 [21] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 17:05:03,732 [21] DEBUG Servicesys_code - 获取动态列表
2014-03-10 17:05:03,732 [21] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 17:05:04,332 [18] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 17:05:04,335 [18] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 17:05:04,338 [18] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 17:05:05,412 [21] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 17:05:05,412 [21] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 17:05:05,466 [20] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 17:05:05,467 [20] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 17:05:05,467 [20] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 17:05:05,468 [20] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 17:05:05,469 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 17:05:05,469 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 17:05:05,469 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 17:05:05,469 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 17:05:05,469 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 17:05:05,469 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 17:05:05,470 [20] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 17:05:05,470 [20] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 17:05:06,626 [20] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 17:05:06,626 [20] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 17:05:09,966 [20] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 17:05:09,968 [20] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 17:05:09,970 [20] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_ORDERDATE],[ProjectCode]) values('201403100003','5','2014/3/10 17:05:05','201306030001')
2014-03-10 17:05:09,971 [20] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c5dfe30d-dba3-4bc4-9b9c-674529b2c1f1
2014-03-10 17:05:09,975 [20] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 f:\lbl\soft\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 237
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c5dfe30d-dba3-4bc4-9b9c-674529b2c1f1
2014-03-10 17:10:08,272 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/role/Index','/Sys/role')
2014-03-10 17:10:08,278 [11] DEBUG Servicesys_user - 获取动态列表
2014-03-10 17:10:08,279 [11] DEBUG Sys - select UserCode,UserName from sys_user
2014-03-10 17:10:08,323 [11] DEBUG Servicesys_organize - 获取动态列表
2014-03-10 17:10:08,323 [11] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2014-03-10 17:10:08,721 [13] DEBUG Servicesys_role - 获取实体列表
2014-03-10 17:10:08,722 [13] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2014-03-10 17:10:14,831 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/user/Index','/Sys/user')
2014-03-10 17:10:15,371 [13] DEBUG Servicesys_user - 获取实体列表
2014-03-10 17:10:15,371 [13] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2014-03-10 17:10:15,386 [21] DEBUG Servicesys_organize - 获取实体列表
2014-03-10 17:10:15,388 [21] DEBUG Sys - select sys_organize.* from sys_organize
2014-03-10 17:10:15,506 [13] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2014-03-10 17:10:18,514 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/organize/Index','/Sys/organize')
2014-03-10 17:10:18,519 [11] DEBUG Servicesys_organize - 获取实体列表
2014-03-10 17:10:18,519 [11] DEBUG Sys - select sys_organize.* from sys_organize
2014-03-10 17:10:21,208 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/code/Index','/Sys/code')
2014-03-10 17:10:22,096 [11] DEBUG Servicesys_codeType - 获取动态列表
2014-03-10 17:10:22,097 [11] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2014-03-10 17:10:22,235 [13] DEBUG Servicesys_code - 获取实体列表
2014-03-10 17:10:22,236 [13] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2014-03-10 17:10:22,273 [13] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2014-03-10 17:10:27,016 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/role/Index','/Sys/role')
2014-03-10 17:10:27,017 [11] DEBUG Servicesys_user - 获取动态列表
2014-03-10 17:10:27,017 [11] DEBUG Sys - select UserCode,UserName from sys_user
2014-03-10 17:10:27,018 [11] DEBUG Servicesys_organize - 获取动态列表
2014-03-10 17:10:27,018 [11] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2014-03-10 17:10:27,333 [11] DEBUG Servicesys_role - 获取实体列表
2014-03-10 17:10:27,334 [11] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2014-03-10 21:17:42,127 [7] ERROR /Login - System.TypeInitializationException: “Zephyr.Web.Sys.DbCreatorBase”的类型初始值设定项引发异常。 ---> System.Data.SqlClient.SqlException: 在与 SQL Server 建立连接时出现与网络相关的或特定于实例的错误。未找到或无法访问服务器。请验证实例名称是否正确并且 SQL Server 已配置为允许远程连接。 (provider: SQL Network Interfaces, error: 26 - 定位指定的服务器/实例时出错)
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Web.Sys.DbCreatorBase.GetDefaultConnectionName() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Web.Sys\Areas\Sys\Common\DbCreator\DbCreatorBase.cs:行号 57
   在 Zephyr.Web.Sys.DbCreatorBase..cctor() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Web.Sys\Areas\Sys\Common\DbCreator\DbCreatorBase.cs:行号 26
   --- 内部异常堆栈跟踪的结尾 ---
   在 Zephyr.Web.Sys.SysEntrance.OnFrameworkActionExecuting(ActionExecutingContext filterContext) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Web.Sys\Areas\Sys\Common\SysEntrance.cs:行号 54
   在 Zephyr.Web.Mvc.WebFrameworkFilter.OnActionExecuting(ActionExecutingContext filterContext) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Web.Mvc\Webstack\WebFrameworkFilter.cs:行号 12
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.InvokeActionMethodFilterAsynchronously(IActionFilter filter, ActionExecutingContext preContext, Func`1 nextInChain)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<>c__DisplayClass39.<>c__DisplayClass3b.<BeginInvokeActionMethodWithFilters>b__35()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.InvokeActionMethodFilterAsynchronously(IActionFilter filter, ActionExecutingContext preContext, Func`1 nextInChain)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<>c__DisplayClass39.<>c__DisplayClass3b.<BeginInvokeActionMethodWithFilters>b__35()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.InvokeActionMethodFilterAsynchronously(IActionFilter filter, ActionExecutingContext preContext, Func`1 nextInChain)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<>c__DisplayClass39.<>c__DisplayClass3b.<BeginInvokeActionMethodWithFilters>b__35()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeActionMethodWithFilters>b__31(AsyncCallback asyncCallback, Object asyncState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.Begin(AsyncCallback callback, Object state, Int32 timeout)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.BeginInvokeActionMethodWithFilters(ControllerContext controllerContext, IList`1 filters, ActionDescriptor actionDescriptor, IDictionary`2 parameters, AsyncCallback callback, Object state)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<BeginInvokeAction>b__1e(AsyncCallback asyncCallback, Object asyncState)
2014-03-10 21:30:49,054 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:30:49,266 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:30:49,278 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:30:49,313 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:30:49,335 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:30:49,349 [1] DEBUG Trade - 
--set ANSI_NULLS ON
--set QUOTED_IDENTIFIER ON
 
-- =============================================
-- Description:	提供中文首字母
-- Demo: select * from 表 where fun_getPY(字段) like N'%zgr%'
-- =============================================
CREATE FUNCTION [dbo].[fun_getPY]
(
	@str NVARCHAR(4000)
)
RETURNS NVARCHAR(4000)
AS
BEGIN
	DECLARE @word NCHAR(1),@PY NVARCHAR(4000)
	SET @PY=''
	WHILE len(@str)>0
	BEGIN
		SET @word=left(@str,1)
		SET @PY=@PY+(CASE WHEN unicode(@word) BETWEEN 19968 AND 19968+20901
		THEN (SELECT TOP 1 PY FROM (
		SELECT 'A' AS PY,N'' AS word
		UNION ALL SELECT 'B',N'簿'
		UNION ALL SELECT 'C',N'e'
		UNION ALL SELECT 'D',N'z'
		UNION ALL SELECT 'E',N''
		UNION ALL SELECT 'F',N'v'
		UNION ALL SELECT 'G',N'B'
		UNION ALL SELECT 'H',N''
		UNION ALL SELECT 'J',N'h'
		UNION ALL SELECT 'K',N'i'
		UNION ALL SELECT 'L',N'w'
		UNION ALL SELECT 'M',N''
		UNION ALL SELECT 'N',N''
		UNION ALL SELECT 'O',N'a'
		UNION ALL SELECT 'P',N'曝'
		UNION ALL SELECT 'Q',N''
		UNION ALL SELECT 'R',N'U'
		UNION ALL SELECT 'S',N'R'
		UNION ALL SELECT 'T',N'X'
		UNION ALL SELECT 'W',N'F'
		UNION ALL SELECT 'X',N'R'
		UNION ALL SELECT 'Y',N''
		UNION ALL SELECT 'Z',N''
		) T 
		WHERE word>=@word COLLATE Chinese_PRC_CS_AS_KS_WS 
		ORDER BY PY ASC) ELSE @word END)
		SET @str=right(@str,len(@str)-1)
	END
	RETURN @PY
END
2014-03-10 21:30:49,422 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:30:51,866 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:30:51,881 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 21:30:52,356 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:30:52,356 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME_EN'
2014-03-10 21:31:07,535 [5] DEBUG Servicesys_user - 获取实体对象
2014-03-10 21:31:07,540 [5] DEBUG Sys - select sys_user.* from sys_user where UserCode='admin' and Password='81dc9bdb52d04dc20036dbd8313ed055' and IsEnable='1'
2014-03-10 21:31:08,006 [5] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'admin' 
2014-03-10 21:31:08,248 [5] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('admin','管理员','lbl','127.0.0.1','福建省厦门市','2014/3/10 21:31:08')
2014-03-10 21:31:08,316 [5] DEBUG Servicemms_project - 获取实体对象
2014-03-10 21:31:08,317 [5] DEBUG Mms - select mms_project.* from mms_project where ProjectCode='201306030001'
2014-03-10 21:31:08,542 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:31:08,543 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 21:31:09,029 [5] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 21:31:09,805 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:31:09,805 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 21:31:11,915 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 21:31:29,924 [12] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2014-03-10 21:31:31,335 [11] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 21:31:31,336 [11] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 21:32:43,196 [22] DEBUG Servicesys_menu - 编辑记录
2014-03-10 21:32:43,418 [22] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='0edd342b-0076-493f-a001-0bd2c2c495b6'
2014-03-10 21:32:43,468 [22] DEBUG Sys - insert into sys_menu([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('内贸系统','13','','icon-anchor','','0','0','','管理员','2014/3/10 21:32:43','管理员','2014/3/10 21:32:43')
2014-03-10 21:32:43,552 [22] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='12'
2014-03-10 21:32:43,665 [22] DEBUG Sys - update sys_menu set [MenuName] = '基础设置', [MenuCode] = '12', [ParentCode] = '', [IconClass] = 'icon-book', [URL] = '#', [IsVisible] = 'True', [IsEnable] = 'True', [MenuSeq] = '40', [UpdatePerson] = '管理员', [UpdateDate] = '2014/3/10 21:32:43' where [MenuCode] = '12'
2014-03-10 21:32:44,237 [13] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 21:32:44,390 [13] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 21:33:07,131 [22] DEBUG Servicesys_menu - 编辑记录
2014-03-10 21:33:07,132 [22] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='13'
2014-03-10 21:33:07,142 [22] DEBUG Sys - update sys_menu set [MenuName] = '内贸系统', [MenuCode] = '13', [ParentCode] = '', [IconClass] = 'icon-anchor', [URL] = '', [IsVisible] = '1', [IsEnable] = '1', [MenuSeq] = '1301', [UpdatePerson] = '管理员', [UpdateDate] = '2014/3/10 21:33:07' where [MenuCode] = '13'
2014-03-10 21:33:07,287 [13] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 21:33:07,288 [13] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 21:33:51,249 [10] DEBUG Servicesys_menu - 编辑记录
2014-03-10 21:33:51,250 [10] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='13'
2014-03-10 21:33:51,261 [10] DEBUG Sys - update sys_menu set [MenuName] = '内贸系统', [MenuCode] = '13', [ParentCode] = '', [IconClass] = 'icon-anchor', [URL] = '', [IsVisible] = 'True', [IsEnable] = 'True', [MenuSeq] = '', [UpdatePerson] = '管理员', [UpdateDate] = '2014/3/10 21:33:51' where [MenuCode] = '13'
2014-03-10 21:33:51,392 [16] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 21:33:51,392 [16] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 21:34:12,982 [10] DEBUG Servicesys_menu - 编辑记录
2014-03-10 21:34:12,987 [10] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='13'
2014-03-10 21:34:13,009 [10] DEBUG Sys - update sys_menu set [MenuName] = '内贸系统', [MenuCode] = '13', [ParentCode] = '', [IconClass] = 'icon-anchor', [URL] = '#', [IsVisible] = 'True', [IsEnable] = 'True', [MenuSeq] = '', [UpdatePerson] = '管理员', [UpdateDate] = '2014/3/10 21:34:13' where [MenuCode] = '13'
2014-03-10 21:34:13,212 [14] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 21:34:13,213 [14] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 21:34:55,890 [14] DEBUG Servicesys_menu - 编辑记录
2014-03-10 21:34:55,893 [14] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='0d5076e7-4328-4a4d-9821-a48b4188b67a'
2014-03-10 21:34:55,913 [14] DEBUG Sys - insert into sys_menu([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('内贸订单','1301','13','icon-feed','','0','0','','管理员','2014/3/10 21:34:55','管理员','2014/3/10 21:34:55')
2014-03-10 21:34:55,926 [14] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='9915'
2014-03-10 21:34:55,946 [14] DEBUG Sys - update sys_menu set [MenuName] = '大数据测试', [MenuCode] = '9915', [ParentCode] = '98', [IconClass] = 'icon-application_view_detail', [URL] = '/mms/test', [IsVisible] = 'True', [IsEnable] = 'True', [MenuSeq] = '', [UpdatePerson] = '管理员', [UpdateDate] = '2014/3/10 21:34:55' where [MenuCode] = '9915'
2014-03-10 21:34:56,102 [14] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 21:34:56,103 [14] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 21:35:32,609 [12] DEBUG Servicesys_menu - 编辑记录
2014-03-10 21:35:32,610 [12] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='51ebfac0-ad60-4730-ab3e-f10ecbc871fd'
2014-03-10 21:35:32,621 [12] DEBUG Sys - insert into sys_menu([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('内贸订单明细','1302','13','icon-feed_delete','','0','0','','管理员','2014/3/10 21:35:32','管理员','2014/3/10 21:35:32')
2014-03-10 21:35:32,780 [16] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 21:35:32,780 [16] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 21:36:10,145 [12] DEBUG Servicesys_menu - 编辑记录
2014-03-10 21:36:10,146 [12] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='1002'
2014-03-10 21:36:10,156 [12] DEBUG Sys - update sys_menu set [MenuName] = '材料收料单', [MenuCode] = '1002', [ParentCode] = '10', [IconClass] = 'icon-house_in', [URL] = '/mms/receive', [IsVisible] = 'True', [IsEnable] = 'True', [MenuSeq] = '010', [UpdatePerson] = '管理员', [UpdateDate] = '2014/3/10 21:36:10' where [MenuCode] = '1002'
2014-03-10 21:36:10,188 [12] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='1301'
2014-03-10 21:36:10,199 [12] DEBUG Sys - update sys_menu set [MenuName] = '内贸订单', [MenuCode] = '1301', [ParentCode] = '13', [IconClass] = 'icon-feed', [URL] = '/trade/trailer', [IsVisible] = '1', [IsEnable] = '1', [MenuSeq] = '', [UpdatePerson] = '管理员', [UpdateDate] = '2014/3/10 21:36:10' where [MenuCode] = '1301'
2014-03-10 21:36:10,320 [12] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 21:36:10,320 [12] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 21:36:44,355 [14] DEBUG Servicesys_menu - 编辑记录
2014-03-10 21:36:44,358 [14] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='1302'
2014-03-10 21:36:44,369 [14] DEBUG Sys - update sys_menu set [MenuName] = '内贸订单明细', [MenuCode] = '1302', [ParentCode] = '13', [IconClass] = 'icon-feed_delete', [URL] = '/trade/trailer/edit', [IsVisible] = 'False', [IsEnable] = '1', [MenuSeq] = '', [UpdatePerson] = '管理员', [UpdateDate] = '2014/3/10 21:36:44' where [MenuCode] = '1302'
2014-03-10 21:36:44,500 [10] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 21:36:44,500 [10] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 21:36:58,858 [12] DEBUG Servicesys_menu - 编辑记录
2014-03-10 21:36:58,859 [12] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='1301'
2014-03-10 21:36:58,869 [12] DEBUG Sys - update sys_menu set [MenuName] = '内贸订单', [MenuCode] = '1301', [ParentCode] = '13', [IconClass] = 'icon-feed', [URL] = '/trade/trailer', [IsVisible] = 'True', [IsEnable] = 'True', [MenuSeq] = '1', [UpdatePerson] = '管理员', [UpdateDate] = '2014/3/10 21:36:58' where [MenuCode] = '1301'
2014-03-10 21:36:58,996 [14] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 21:36:58,997 [14] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 21:37:06,413 [19] DEBUG Servicesys_menu - 编辑记录
2014-03-10 21:37:06,414 [19] DEBUG Sys - select sys_menu.* from sys_menu where MenuCode='1302'
2014-03-10 21:37:06,429 [19] DEBUG Sys - update sys_menu set [MenuName] = '内贸订单明细', [MenuCode] = '1302', [ParentCode] = '13', [IconClass] = 'icon-feed_delete', [URL] = '/trade/trailer/edit', [IsVisible] = 'False', [IsEnable] = 'True', [MenuSeq] = '2', [UpdatePerson] = '管理员', [UpdateDate] = '2014/3/10 21:37:06' where [MenuCode] = '1302'
2014-03-10 21:37:06,551 [14] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 21:37:06,551 [14] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 21:37:11,197 [12] DEBUG Sys - 
select A.*,
       case when B.ID is null then 0 else 1 end as Selected
from sys_button A
left join sys_menuButtonMap B on B.MenuCode = '1301' and B.ButtonCode = A.ButtonCode
order by ButtonSeq
2014-03-10 21:39:04,617 [7] DEBUG Servicesys_menu - 设置菜单按钮
2014-03-10 21:39:04,619 [7] DEBUG Sys - delete from sys_menuButtonMap where [MenuCode] = '1301'
2014-03-10 21:39:04,640 [7] DEBUG Sys - insert into sys_menuButtonMap([MenuCode],[ButtonCode]) values('1301','add')
2014-03-10 21:39:04,650 [7] DEBUG Sys - insert into sys_menuButtonMap([MenuCode],[ButtonCode]) values('1301','edit')
2014-03-10 21:39:04,660 [7] DEBUG Sys - insert into sys_menuButtonMap([MenuCode],[ButtonCode]) values('1301','delete')
2014-03-10 21:39:04,669 [7] DEBUG Sys - insert into sys_menuButtonMap([MenuCode],[ButtonCode]) values('1301','refresh')
2014-03-10 21:39:04,678 [7] DEBUG Sys - insert into sys_menuButtonMap([MenuCode],[ButtonCode]) values('1301','download')
2014-03-10 21:39:04,703 [7] DEBUG Sys - insert into sys_menuButtonMap([MenuCode],[ButtonCode]) values('1301','audit')
2014-03-10 21:39:22,686 [5] DEBUG Sys - 
select A.*,
       case when B.ID is null then 0 else 1 end as Selected
from sys_button A
left join sys_menuButtonMap B on B.MenuCode = '1302' and B.ButtonCode = A.ButtonCode
order by ButtonSeq
2014-03-10 21:40:04,985 [18] DEBUG Sys - 
select A.*,
       case when B.ID is null then 0 else 1 end as Selected
from sys_button A
left join sys_menuButtonMap B on B.MenuCode = '1302' and B.ButtonCode = A.ButtonCode
order by ButtonSeq
2014-03-10 21:40:22,417 [14] DEBUG Servicesys_menu - 设置菜单按钮
2014-03-10 21:40:22,419 [14] DEBUG Sys - delete from sys_menuButtonMap where [MenuCode] = '1302'
2014-03-10 21:40:22,427 [14] DEBUG Sys - insert into sys_menuButtonMap([MenuCode],[ButtonCode]) values('1302','print')
2014-03-10 21:40:22,438 [14] DEBUG Sys - insert into sys_menuButtonMap([MenuCode],[ButtonCode]) values('1302','audit')
2014-03-10 21:40:22,447 [14] DEBUG Sys - insert into sys_menuButtonMap([MenuCode],[ButtonCode]) values('1302','save')
2014-03-10 21:40:38,723 [9] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/role/Index','/Sys/role')
2014-03-10 21:40:38,833 [9] DEBUG Servicesys_user - 获取动态列表
2014-03-10 21:40:38,833 [9] DEBUG Sys - select UserCode,UserName from sys_user
2014-03-10 21:40:38,850 [9] DEBUG Servicesys_organize - 获取动态列表
2014-03-10 21:40:38,851 [9] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2014-03-10 21:40:39,447 [14] DEBUG Servicesys_role - 获取实体列表
2014-03-10 21:40:39,455 [14] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2014-03-10 21:40:43,616 [14] DEBUG Sys - select * from sys_button order by ButtonSeq
2014-03-10 21:40:43,641 [14] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2014-03-10 21:40:43,664 [10] DEBUG Servicesys_permission - 获取动态列表
2014-03-10 21:40:43,665 [10] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2014-03-10 21:40:43,844 [14] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2014-03-10 21:41:20,764 [10] DEBUG Servicesys_role - 修改角色菜单权限
2014-03-10 21:41:20,766 [10] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2014-03-10 21:41:20,778 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1301')
2014-03-10 21:41:20,786 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1302')
2014-03-10 21:41:20,794 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10')
2014-03-10 21:41:20,802 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1002')
2014-03-10 21:41:20,809 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1001')
2014-03-10 21:41:20,816 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1009')
2014-03-10 21:41:20,823 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1010')
2014-03-10 21:41:20,830 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1013')
2014-03-10 21:41:20,841 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1007')
2014-03-10 21:41:20,848 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1006')
2014-03-10 21:41:20,855 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1011')
2014-03-10 21:41:20,862 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1003')
2014-03-10 21:41:20,869 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1012')
2014-03-10 21:41:20,876 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1008')
2014-03-10 21:41:20,883 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1005')
2014-03-10 21:41:20,890 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1004')
2014-03-10 21:41:20,896 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100101')
2014-03-10 21:41:20,905 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100201')
2014-03-10 21:41:20,912 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100312')
2014-03-10 21:41:20,919 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100401')
2014-03-10 21:41:20,926 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100501')
2014-03-10 21:41:20,934 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100601')
2014-03-10 21:41:20,942 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100701')
2014-03-10 21:41:20,950 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100801')
2014-03-10 21:41:20,957 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100901')
2014-03-10 21:41:20,964 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101001')
2014-03-10 21:41:20,971 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101101')
2014-03-10 21:41:20,977 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101201')
2014-03-10 21:41:20,984 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101301')
2014-03-10 21:41:21,010 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','11')
2014-03-10 21:41:21,018 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1105')
2014-03-10 21:41:21,025 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1101')
2014-03-10 21:41:21,033 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1102')
2014-03-10 21:41:21,043 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1103')
2014-03-10 21:41:21,050 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1104')
2014-03-10 21:41:21,060 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1109')
2014-03-10 21:41:21,070 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','12')
2014-03-10 21:41:21,079 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1204')
2014-03-10 21:41:21,090 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1201')
2014-03-10 21:41:21,101 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1202')
2014-03-10 21:41:21,112 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1203')
2014-03-10 21:41:21,122 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2014-03-10 21:41:21,135 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2014-03-10 21:41:21,145 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2014-03-10 21:41:21,154 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2014-03-10 21:41:21,164 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2014-03-10 21:41:21,177 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2014-03-10 21:41:21,187 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2014-03-10 21:41:21,197 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2014-03-10 21:41:21,214 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2014-03-10 21:41:21,224 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2014-03-10 21:41:21,233 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2014-03-10 21:41:21,244 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9915')
2014-03-10 21:41:21,255 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9920')
2014-03-10 21:41:21,267 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9950')
2014-03-10 21:41:21,278 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9960')
2014-03-10 21:41:21,286 [10] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9961')
2014-03-10 21:41:21,326 [10] DEBUG Servicesys_role - 修改角色菜单按钮权限
2014-03-10 21:41:21,326 [10] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2014-03-10 21:41:21,338 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','add')
2014-03-10 21:41:21,354 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','edit')
2014-03-10 21:41:21,370 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','delete')
2014-03-10 21:41:21,383 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','refresh')
2014-03-10 21:41:21,395 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','download')
2014-03-10 21:41:21,406 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','audit')
2014-03-10 21:41:21,417 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1302','print')
2014-03-10 21:41:21,427 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1302','audit')
2014-03-10 21:41:21,437 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1302','save')
2014-03-10 21:41:21,447 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','add')
2014-03-10 21:41:21,458 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','edit')
2014-03-10 21:41:21,467 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','delete')
2014-03-10 21:41:21,475 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','refresh')
2014-03-10 21:41:21,483 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','download')
2014-03-10 21:41:21,492 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','audit')
2014-03-10 21:41:21,499 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','add')
2014-03-10 21:41:21,506 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','edit')
2014-03-10 21:41:21,513 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','delete')
2014-03-10 21:41:21,521 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','refresh')
2014-03-10 21:41:21,528 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','download')
2014-03-10 21:41:21,537 [10] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','audit')
2014-03-10 21:41:21,577 [10] DEBUG Servicesys_role - 修改角色数据权限
2014-03-10 21:41:21,578 [10] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2014-03-10 21:41:21,590 [10] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('super','01','0')
2014-03-10 21:41:21,601 [10] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('super','0102','0')
2014-03-10 21:41:21,612 [10] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('super','02','0')
2014-03-10 21:41:21,625 [10] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('super','0201','0')
2014-03-10 21:41:21,634 [10] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('super','030','0')
2014-03-10 21:41:21,684 [10] DEBUG Servicesys_role - 修改角色数据列权限
2014-03-10 21:41:21,690 [10] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2014-03-10 21:41:32,386 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:41:32,386 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 21:41:32,395 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:41:32,395 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME_EN'
2014-03-10 21:41:39,144 [8] DEBUG Servicesys_user - 获取实体对象
2014-03-10 21:41:39,145 [8] DEBUG Sys - select sys_user.* from sys_user where UserCode='admin' and Password='81dc9bdb52d04dc20036dbd8313ed055' and IsEnable='1'
2014-03-10 21:41:39,156 [8] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'admin' 
2014-03-10 21:41:39,174 [8] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('admin','管理员','lbl','127.0.0.1','福建省厦门市','2014/3/10 21:41:39')
2014-03-10 21:41:39,183 [8] DEBUG Servicemms_project - 获取实体对象
2014-03-10 21:41:39,186 [8] DEBUG Mms - select mms_project.* from mms_project where ProjectCode='201306030001'
2014-03-10 21:41:39,217 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:41:39,217 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 21:41:39,231 [7] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 21:41:39,243 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:41:39,243 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 21:41:39,352 [5] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 21:42:22,364 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:42:22,394 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:42:22,422 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:42:22,431 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:42:22,440 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:42:22,450 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 21:42:23,389 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:42:23,403 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 21:42:23,973 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 21:42:24,413 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:42:24,413 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 21:42:25,865 [5] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 21:42:33,827 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/role/Index','/Sys/role')
2014-03-10 21:42:33,847 [6] DEBUG Servicesys_user - 获取动态列表
2014-03-10 21:42:33,849 [6] DEBUG Sys - select UserCode,UserName from sys_user
2014-03-10 21:42:33,859 [6] DEBUG Servicesys_organize - 获取动态列表
2014-03-10 21:42:33,859 [6] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2014-03-10 21:42:34,803 [6] DEBUG Servicesys_role - 获取实体列表
2014-03-10 21:42:34,806 [6] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2014-03-10 21:42:42,428 [6] DEBUG Sys - select * from sys_button order by ButtonSeq
2014-03-10 21:42:42,456 [5] DEBUG Servicesys_permission - 获取动态列表
2014-03-10 21:42:42,475 [6] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='R3' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='R3'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='R3'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='R3'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='R3'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='R3'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='R3'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='R3'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='R3'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='R3'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='R3'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='R3'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='R3'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='R3'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2014-03-10 21:42:42,539 [5] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='R3' and B.PermissionCode = A.PermissionCode 
2014-03-10 21:42:42,608 [6] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'R3'
2014-03-10 21:42:57,340 [6] DEBUG Servicesys_role - 修改角色菜单权限
2014-03-10 21:42:57,345 [6] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'R3'
2014-03-10 21:42:57,358 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','13')
2014-03-10 21:42:57,367 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1301')
2014-03-10 21:42:57,375 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1302')
2014-03-10 21:42:57,383 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','10')
2014-03-10 21:42:57,393 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1002')
2014-03-10 21:42:57,400 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1001')
2014-03-10 21:42:57,407 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1009')
2014-03-10 21:42:57,414 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1010')
2014-03-10 21:42:57,421 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1013')
2014-03-10 21:42:57,428 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1007')
2014-03-10 21:42:57,435 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1006')
2014-03-10 21:42:57,442 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1011')
2014-03-10 21:42:57,449 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1003')
2014-03-10 21:42:57,456 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1012')
2014-03-10 21:42:57,463 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1008')
2014-03-10 21:42:57,470 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1005')
2014-03-10 21:42:57,478 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1004')
2014-03-10 21:42:57,485 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','100101')
2014-03-10 21:42:57,496 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','100201')
2014-03-10 21:42:57,506 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','100312')
2014-03-10 21:42:57,513 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','100401')
2014-03-10 21:42:57,520 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','100501')
2014-03-10 21:42:57,527 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','100601')
2014-03-10 21:42:57,534 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','100701')
2014-03-10 21:42:57,541 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','100801')
2014-03-10 21:42:57,549 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','100901')
2014-03-10 21:42:57,556 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','101001')
2014-03-10 21:42:57,563 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','101101')
2014-03-10 21:42:57,570 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','101201')
2014-03-10 21:42:57,577 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','101301')
2014-03-10 21:42:57,584 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','11')
2014-03-10 21:42:57,594 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1105')
2014-03-10 21:42:57,601 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1101')
2014-03-10 21:42:57,608 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1102')
2014-03-10 21:42:57,616 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1103')
2014-03-10 21:42:57,622 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1104')
2014-03-10 21:42:57,629 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1109')
2014-03-10 21:42:57,637 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','12')
2014-03-10 21:42:57,644 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1204')
2014-03-10 21:42:57,651 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1201')
2014-03-10 21:42:57,658 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1202')
2014-03-10 21:42:57,665 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','1203')
2014-03-10 21:42:57,672 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','99')
2014-03-10 21:42:57,679 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','9902')
2014-03-10 21:42:57,688 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','9903')
2014-03-10 21:42:57,696 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','9910')
2014-03-10 21:42:57,703 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','9904')
2014-03-10 21:42:57,710 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','9905')
2014-03-10 21:42:57,717 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','9906')
2014-03-10 21:42:57,724 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','9911')
2014-03-10 21:42:57,731 [6] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('R3','9907')
2014-03-10 21:42:57,769 [6] DEBUG Servicesys_role - 修改角色菜单按钮权限
2014-03-10 21:42:57,770 [6] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'R3'
2014-03-10 21:42:57,779 [6] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('R3','1301','add')
2014-03-10 21:42:57,789 [6] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('R3','1301','edit')
2014-03-10 21:42:57,799 [6] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('R3','1301','delete')
2014-03-10 21:42:57,809 [6] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('R3','1301','refresh')
2014-03-10 21:42:57,818 [6] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('R3','1301','download')
2014-03-10 21:42:57,827 [6] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('R3','1301','audit')
2014-03-10 21:42:57,836 [6] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('R3','1302','print')
2014-03-10 21:42:57,843 [6] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('R3','1302','audit')
2014-03-10 21:42:57,850 [6] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('R3','1302','save')
2014-03-10 21:42:57,890 [6] DEBUG Servicesys_role - 修改角色数据权限
2014-03-10 21:42:57,892 [6] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'R3'
2014-03-10 21:42:57,902 [6] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('R3','01','0')
2014-03-10 21:42:57,911 [6] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('R3','0102','0')
2014-03-10 21:42:57,920 [6] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('R3','02','0')
2014-03-10 21:42:57,927 [6] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('R3','0201','0')
2014-03-10 21:42:57,935 [6] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('R3','030','0')
2014-03-10 21:42:57,974 [6] DEBUG Servicesys_role - 修改角色数据列权限
2014-03-10 21:42:57,976 [6] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'R3'
2014-03-10 21:43:02,179 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:43:02,179 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 21:43:02,282 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:43:02,282 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME_EN'
2014-03-10 21:43:21,584 [7] DEBUG Servicesys_user - 获取实体对象
2014-03-10 21:43:21,585 [7] DEBUG Sys - select sys_user.* from sys_user where UserCode='admin' and Password='81dc9bdb52d04dc20036dbd8313ed055' and IsEnable='1'
2014-03-10 21:43:21,601 [7] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'admin' 
2014-03-10 21:43:21,637 [7] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('admin','管理员','lbl','127.0.0.1','福建省厦门市','2014/3/10 21:43:21')
2014-03-10 21:43:21,647 [7] DEBUG Servicemms_project - 获取实体对象
2014-03-10 21:43:21,647 [7] DEBUG Mms - select mms_project.* from mms_project where ProjectCode='201306030001'
2014-03-10 21:43:21,683 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:43:21,683 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 21:43:21,697 [6] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 21:43:21,705 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 21:43:21,706 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 21:43:21,809 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 21:43:36,315 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/user/Index','/Sys/user')
2014-03-10 21:43:37,551 [8] DEBUG Servicesys_organize - 获取实体列表
2014-03-10 21:43:37,552 [8] DEBUG Sys - select sys_organize.* from sys_organize
2014-03-10 21:43:37,584 [7] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:43:37,585 [7] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2014-03-10 21:43:37,734 [7] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2014-03-10 21:44:00,683 [6] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:00,684 [6] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04'))) order by UserSeq
2014-03-10 21:44:00,939 [6] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04'))) ) tb_temp
2014-03-10 21:44:13,350 [6] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:13,351 [6] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0401'))) order by UserSeq
2014-03-10 21:44:13,380 [6] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0401'))) ) tb_temp
2014-03-10 21:44:15,079 [8] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:15,079 [8] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04'))) order by UserSeq
2014-03-10 21:44:15,114 [8] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04'))) ) tb_temp
2014-03-10 21:44:17,519 [7] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:17,519 [7] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0401'))) order by UserSeq
2014-03-10 21:44:17,531 [7] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0401'))) ) tb_temp
2014-03-10 21:44:18,818 [6] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:18,818 [6] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0405'))) order by UserSeq
2014-03-10 21:44:18,845 [6] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0405'))) ) tb_temp
2014-03-10 21:44:19,914 [6] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:19,914 [6] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040501'))) order by UserSeq
2014-03-10 21:44:19,949 [6] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040501'))) ) tb_temp
2014-03-10 21:44:21,808 [9] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:21,808 [9] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0402'))) order by UserSeq
2014-03-10 21:44:21,854 [9] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0402'))) ) tb_temp
2014-03-10 21:44:24,389 [10] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:24,389 [10] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0407'))) order by UserSeq
2014-03-10 21:44:24,416 [10] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0407'))) ) tb_temp
2014-03-10 21:44:26,063 [9] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:26,063 [9] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0408'))) order by UserSeq
2014-03-10 21:44:26,092 [9] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0408'))) ) tb_temp
2014-03-10 21:44:27,232 [8] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:27,233 [8] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0409'))) order by UserSeq
2014-03-10 21:44:27,265 [8] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0409'))) ) tb_temp
2014-03-10 21:44:29,105 [9] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:29,105 [9] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0410'))) order by UserSeq
2014-03-10 21:44:29,154 [9] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0410'))) ) tb_temp
2014-03-10 21:44:30,308 [7] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:30,309 [7] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0401'))) order by UserSeq
2014-03-10 21:44:30,324 [7] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0401'))) ) tb_temp
2014-03-10 21:44:33,076 [10] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:33,077 [10] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04'))) order by UserSeq
2014-03-10 21:44:33,091 [10] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04'))) ) tb_temp
2014-03-10 21:44:37,763 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/role/Index','/Sys/role')
2014-03-10 21:44:37,774 [6] DEBUG Servicesys_user - 获取动态列表
2014-03-10 21:44:37,774 [6] DEBUG Sys - select UserCode,UserName from sys_user
2014-03-10 21:44:37,783 [6] DEBUG Servicesys_organize - 获取动态列表
2014-03-10 21:44:37,783 [6] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2014-03-10 21:44:38,099 [5] DEBUG Servicesys_role - 获取实体列表
2014-03-10 21:44:38,100 [5] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2014-03-10 21:44:46,929 [11] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/user/Index','/Sys/user')
2014-03-10 21:44:47,469 [7] DEBUG Servicesys_organize - 获取实体列表
2014-03-10 21:44:47,470 [7] DEBUG Sys - select sys_organize.* from sys_organize
2014-03-10 21:44:47,587 [7] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:47,588 [7] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2014-03-10 21:44:47,610 [7] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2014-03-10 21:44:59,621 [10] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:44:59,621 [10] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04'))) order by UserSeq
2014-03-10 21:44:59,658 [10] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04'))) ) tb_temp
2014-03-10 21:45:21,330 [11] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:21,331 [11] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0401'))) order by UserSeq
2014-03-10 21:45:21,345 [11] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0401'))) ) tb_temp
2014-03-10 21:45:22,357 [5] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:22,357 [5] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0405'))) order by UserSeq
2014-03-10 21:45:22,368 [5] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0405'))) ) tb_temp
2014-03-10 21:45:24,383 [9] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:24,384 [9] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040501'))) order by UserSeq
2014-03-10 21:45:24,394 [9] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040501'))) ) tb_temp
2014-03-10 21:45:26,774 [9] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:26,774 [9] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04050101'))) order by UserSeq
2014-03-10 21:45:26,821 [9] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04050101'))) ) tb_temp
2014-03-10 21:45:27,858 [5] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:27,858 [5] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040502'))) order by UserSeq
2014-03-10 21:45:27,896 [5] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040502'))) ) tb_temp
2014-03-10 21:45:28,883 [9] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:28,883 [9] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040503'))) order by UserSeq
2014-03-10 21:45:28,918 [9] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040503'))) ) tb_temp
2014-03-10 21:45:29,827 [8] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:29,830 [8] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040504'))) order by UserSeq
2014-03-10 21:45:29,868 [8] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040504'))) ) tb_temp
2014-03-10 21:45:30,689 [11] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:30,690 [11] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040505'))) order by UserSeq
2014-03-10 21:45:30,742 [11] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040505'))) ) tb_temp
2014-03-10 21:45:31,941 [11] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:31,941 [11] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0402'))) order by UserSeq
2014-03-10 21:45:31,953 [11] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0402'))) ) tb_temp
2014-03-10 21:45:33,199 [9] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:33,200 [9] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040201'))) order by UserSeq
2014-03-10 21:45:33,253 [9] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040201'))) ) tb_temp
2014-03-10 21:45:34,118 [11] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:34,118 [11] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040202'))) order by UserSeq
2014-03-10 21:45:34,150 [11] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040202'))) ) tb_temp
2014-03-10 21:45:35,075 [8] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:35,076 [8] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0403'))) order by UserSeq
2014-03-10 21:45:35,104 [8] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0403'))) ) tb_temp
2014-03-10 21:45:35,955 [5] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:35,955 [5] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0404'))) order by UserSeq
2014-03-10 21:45:36,004 [5] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0404'))) ) tb_temp
2014-03-10 21:45:37,401 [11] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:37,401 [11] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0406'))) order by UserSeq
2014-03-10 21:45:37,429 [11] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0406'))) ) tb_temp
2014-03-10 21:45:38,733 [10] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:45:38,733 [10] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040601'))) order by UserSeq
2014-03-10 21:45:38,760 [10] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','040601'))) ) tb_temp
2014-03-10 21:47:11,905 [16] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:47:11,905 [16] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0401'))) order by UserSeq
2014-03-10 21:47:11,942 [16] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','0401'))) ) tb_temp
2014-03-10 21:47:15,607 [16] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:47:15,607 [16] DEBUG Sys - select top 20 sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04'))) order by UserSeq
2014-03-10 21:47:15,624 [16] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user where UserCode in (select UserCode from sys_userOrganizeMap where OrganizeCode in (select ID from [dbo].[GetChild]('sys_organize','04'))) ) tb_temp
2014-03-10 21:47:19,189 [16] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/role/Index','/Sys/role')
2014-03-10 21:47:19,209 [16] DEBUG Servicesys_user - 获取动态列表
2014-03-10 21:47:19,209 [16] DEBUG Sys - select UserCode,UserName from sys_user
2014-03-10 21:47:19,218 [16] DEBUG Servicesys_organize - 获取动态列表
2014-03-10 21:47:19,218 [16] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2014-03-10 21:47:19,657 [15] DEBUG Servicesys_role - 获取实体列表
2014-03-10 21:47:19,658 [15] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2014-03-10 21:47:25,957 [16] DEBUG Sys - select * from sys_button order by ButtonSeq
2014-03-10 21:47:25,979 [16] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='R3' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='R3'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='R3'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='R3'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='R3'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='R3'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='R3'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='R3'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='R3'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='R3'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='R3'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='R3'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='R3'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='R3'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2014-03-10 21:47:26,054 [16] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'R3'
2014-03-10 21:47:26,071 [12] DEBUG Servicesys_permission - 获取动态列表
2014-03-10 21:47:26,071 [12] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='R3' and B.PermissionCode = A.PermissionCode 
2014-03-10 21:47:34,236 [16] DEBUG Sys - select * from sys_button order by ButtonSeq
2014-03-10 21:47:34,258 [16] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2014-03-10 21:47:34,303 [16] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2014-03-10 21:47:34,322 [12] DEBUG Servicesys_permission - 获取动态列表
2014-03-10 21:47:34,323 [12] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2014-03-10 21:47:58,422 [12] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/user/Index','/Sys/user')
2014-03-10 21:47:59,401 [12] DEBUG Servicesys_organize - 获取实体列表
2014-03-10 21:47:59,401 [12] DEBUG Sys - select sys_organize.* from sys_organize
2014-03-10 21:47:59,479 [16] DEBUG Servicesys_user - 获取实体列表
2014-03-10 21:47:59,479 [16] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2014-03-10 21:47:59,490 [16] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2014-03-10 22:12:44,769 [49] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2014-03-10 22:12:45,027 [49] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 22:12:45,385 [49] DEBUG Servicesys_menu - 获取动态列表
2014-03-10 22:12:45,386 [49] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2014-03-10 22:13:16,747 [51] DEBUG Sys - select * from sys_button order by ButtonSeq
2014-03-10 22:13:16,770 [51] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2014-03-10 22:13:16,865 [51] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2014-03-10 22:13:16,884 [49] DEBUG Servicesys_permission - 获取动态列表
2014-03-10 22:13:16,950 [49] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2014-03-10 22:13:22,182 [49] DEBUG Sys - select * from sys_button order by ButtonSeq
2014-03-10 22:13:22,204 [49] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='R3' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='R3'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='R3'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='R3'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='R3'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='R3'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='R3'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='R3'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='R3'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='R3'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='R3'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='R3'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='R3'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='R3'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2014-03-10 22:13:22,224 [51] DEBUG Servicesys_permission - 获取动态列表
2014-03-10 22:13:22,224 [51] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='R3' and B.PermissionCode = A.PermissionCode 
2014-03-10 22:13:22,324 [49] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'R3'
2014-03-10 22:13:28,248 [49] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/user/Index','/Sys/user')
2014-03-10 22:13:28,728 [49] DEBUG Servicesys_organize - 获取实体列表
2014-03-10 22:13:28,728 [49] DEBUG Sys - select sys_organize.* from sys_organize
2014-03-10 22:13:28,855 [39] DEBUG Servicesys_user - 获取实体列表
2014-03-10 22:13:28,855 [39] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2014-03-10 22:13:28,876 [39] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2014-03-10 22:13:44,393 [51] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/user/Index','/Sys/user')
2014-03-10 22:13:45,224 [49] DEBUG Servicesys_organize - 获取实体列表
2014-03-10 22:13:45,224 [49] DEBUG Sys - select sys_organize.* from sys_organize
2014-03-10 22:13:45,313 [39] DEBUG Servicesys_user - 获取实体列表
2014-03-10 22:13:45,313 [39] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2014-03-10 22:13:45,327 [39] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2014-03-10 22:14:54,484 [39] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:14:54,484 [39] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 22:14:54,493 [39] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:14:54,493 [39] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME_EN'
2014-03-10 22:15:03,366 [50] DEBUG Servicesys_user - 获取实体对象
2014-03-10 22:15:03,366 [50] DEBUG Sys - select sys_user.* from sys_user where UserCode='super' and Password='81dc9bdb52d04dc20036dbd8313ed055' and IsEnable='1'
2014-03-10 22:15:11,397 [39] DEBUG Servicesys_user - 获取实体对象
2014-03-10 22:15:11,398 [39] DEBUG Sys - select sys_user.* from sys_user where UserCode='admin' and Password='81dc9bdb52d04dc20036dbd8313ed055' and IsEnable='1'
2014-03-10 22:15:11,410 [39] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'admin' 
2014-03-10 22:15:11,423 [39] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('admin','管理员','lbl','127.0.0.1','福建省厦门市','2014/3/10 22:15:11')
2014-03-10 22:15:11,434 [39] DEBUG Servicemms_project - 获取实体对象
2014-03-10 22:15:11,436 [39] DEBUG Mms - select mms_project.* from mms_project where ProjectCode='201306030001'
2014-03-10 22:15:11,464 [50] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:15:11,465 [50] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 22:15:11,480 [50] DEBUG Sys - select * from sys_userSetting where UserCode='admin'
2014-03-10 22:15:11,490 [50] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:15:11,490 [50] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 22:15:11,601 [50] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'admin' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'admin'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 22:15:17,558 [50] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'admin'
and C.URL in ('/Sys/user/Index','/Sys/user')
2014-03-10 22:15:18,007 [51] DEBUG Servicesys_organize - 获取实体列表
2014-03-10 22:15:18,007 [51] DEBUG Sys - select sys_organize.* from sys_organize
2014-03-10 22:15:18,108 [39] DEBUG Servicesys_user - 获取实体列表
2014-03-10 22:15:18,108 [39] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2014-03-10 22:15:18,122 [39] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2014-03-10 22:15:26,017 [39] DEBUG Sys - update sys_user set [Password] = '81dc9bdb52d04dc20036dbd8313ed055' where [UserCode] = 'super'
2014-03-10 22:15:39,077 [51] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:15:39,078 [51] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 22:15:39,086 [51] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:15:39,086 [51] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME_EN'
2014-03-10 22:15:47,618 [39] DEBUG Servicesys_user - 获取实体对象
2014-03-10 22:15:47,619 [39] DEBUG Sys - select sys_user.* from sys_user where UserCode='super' and Password='81dc9bdb52d04dc20036dbd8313ed055' and IsEnable='1'
2014-03-10 22:15:47,632 [39] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2014-03-10 22:15:47,650 [39] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','超级管理员','lbl','127.0.0.1','福建省厦门市','2014/3/10 22:15:47')
2014-03-10 22:15:47,661 [39] DEBUG Servicemms_project - 获取实体对象
2014-03-10 22:15:47,661 [39] DEBUG Mms - select mms_project.* from mms_project where ProjectCode='201306030001'
2014-03-10 22:15:47,693 [50] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:15:47,693 [50] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 22:15:47,709 [50] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 22:15:47,917 [50] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:15:47,917 [50] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 22:15:48,250 [50] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 22:15:59,275 [39] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2014-03-10 22:15:59,344 [39] DEBUG Servicesys_user - 获取动态列表
2014-03-10 22:15:59,344 [39] DEBUG Sys - select UserCode,UserName from sys_user
2014-03-10 22:15:59,354 [39] DEBUG Servicesys_organize - 获取动态列表
2014-03-10 22:15:59,354 [39] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2014-03-10 22:15:59,856 [51] DEBUG Servicesys_role - 获取实体列表
2014-03-10 22:15:59,857 [51] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2014-03-10 22:16:02,582 [51] DEBUG Sys - select * from sys_button order by ButtonSeq
2014-03-10 22:16:02,604 [51] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2014-03-10 22:16:02,641 [51] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2014-03-10 22:16:02,662 [39] DEBUG Servicesys_permission - 获取动态列表
2014-03-10 22:16:02,662 [39] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2014-03-10 22:16:14,981 [39] DEBUG Servicesys_role - 修改角色菜单权限
2014-03-10 22:16:14,983 [39] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2014-03-10 22:16:14,995 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','13')
2014-03-10 22:16:15,006 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1301')
2014-03-10 22:16:15,017 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1302')
2014-03-10 22:16:15,038 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10')
2014-03-10 22:16:15,048 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1002')
2014-03-10 22:16:15,056 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1001')
2014-03-10 22:16:15,072 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1009')
2014-03-10 22:16:15,079 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1010')
2014-03-10 22:16:15,086 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1013')
2014-03-10 22:16:15,094 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1007')
2014-03-10 22:16:15,100 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1006')
2014-03-10 22:16:15,108 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1011')
2014-03-10 22:16:15,115 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1003')
2014-03-10 22:16:15,122 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1012')
2014-03-10 22:16:15,130 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1008')
2014-03-10 22:16:15,139 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1005')
2014-03-10 22:16:15,146 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1004')
2014-03-10 22:16:15,153 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100101')
2014-03-10 22:16:15,161 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100201')
2014-03-10 22:16:15,168 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100312')
2014-03-10 22:16:15,175 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100401')
2014-03-10 22:16:15,183 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100501')
2014-03-10 22:16:15,190 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100601')
2014-03-10 22:16:15,198 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100701')
2014-03-10 22:16:15,205 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100801')
2014-03-10 22:16:15,212 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100901')
2014-03-10 22:16:15,219 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101001')
2014-03-10 22:16:15,226 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101101')
2014-03-10 22:16:15,236 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101201')
2014-03-10 22:16:15,243 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101301')
2014-03-10 22:16:15,251 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','11')
2014-03-10 22:16:15,258 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1105')
2014-03-10 22:16:15,265 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1101')
2014-03-10 22:16:15,272 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1102')
2014-03-10 22:16:15,279 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1103')
2014-03-10 22:16:15,286 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1104')
2014-03-10 22:16:15,294 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1109')
2014-03-10 22:16:15,305 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','12')
2014-03-10 22:16:15,314 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1204')
2014-03-10 22:16:15,326 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1201')
2014-03-10 22:16:15,338 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1202')
2014-03-10 22:16:15,350 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1203')
2014-03-10 22:16:15,362 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2014-03-10 22:16:15,375 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2014-03-10 22:16:15,386 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2014-03-10 22:16:15,394 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2014-03-10 22:16:15,407 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2014-03-10 22:16:15,422 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2014-03-10 22:16:15,431 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2014-03-10 22:16:15,442 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2014-03-10 22:16:15,450 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2014-03-10 22:16:15,459 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2014-03-10 22:16:15,467 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2014-03-10 22:16:15,474 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9915')
2014-03-10 22:16:15,482 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9920')
2014-03-10 22:16:15,488 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9950')
2014-03-10 22:16:15,495 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9960')
2014-03-10 22:16:15,502 [39] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9961')
2014-03-10 22:16:15,511 [39] DEBUG Servicesys_role - 修改角色菜单按钮权限
2014-03-10 22:16:15,512 [39] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2014-03-10 22:16:15,520 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','add')
2014-03-10 22:16:15,531 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','edit')
2014-03-10 22:16:15,541 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','delete')
2014-03-10 22:16:15,551 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','refresh')
2014-03-10 22:16:15,560 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','download')
2014-03-10 22:16:15,568 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1301','audit')
2014-03-10 22:16:15,577 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1302','print')
2014-03-10 22:16:15,585 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1302','audit')
2014-03-10 22:16:15,592 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1302','save')
2014-03-10 22:16:15,599 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','add')
2014-03-10 22:16:15,607 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','edit')
2014-03-10 22:16:15,614 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','delete')
2014-03-10 22:16:15,621 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','refresh')
2014-03-10 22:16:15,630 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','download')
2014-03-10 22:16:15,638 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','audit')
2014-03-10 22:16:15,645 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','add')
2014-03-10 22:16:15,653 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','edit')
2014-03-10 22:16:15,660 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','delete')
2014-03-10 22:16:15,667 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','refresh')
2014-03-10 22:16:15,675 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','download')
2014-03-10 22:16:15,682 [39] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','9960','audit')
2014-03-10 22:16:15,690 [39] DEBUG Servicesys_role - 修改角色数据权限
2014-03-10 22:16:15,690 [39] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2014-03-10 22:16:15,699 [39] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('super','01','0')
2014-03-10 22:16:15,708 [39] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('super','0102','0')
2014-03-10 22:16:15,717 [39] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('super','02','0')
2014-03-10 22:16:15,725 [39] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('super','0201','0')
2014-03-10 22:16:15,734 [39] DEBUG Sys - insert into sys_rolePermissionMap([RoleCode],[PermissionCode],[IsDefault]) values('super','030','0')
2014-03-10 22:16:15,745 [39] DEBUG Servicesys_role - 修改角色数据列权限
2014-03-10 22:16:15,745 [39] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2014-03-10 22:16:23,770 [51] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:16:23,770 [51] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 22:16:23,779 [51] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:16:23,779 [51] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME_EN'
2014-03-10 22:16:30,449 [50] DEBUG Servicesys_user - 获取实体对象
2014-03-10 22:16:30,450 [50] DEBUG Sys - select sys_user.* from sys_user where UserCode='super' and Password='81dc9bdb52d04dc20036dbd8313ed055' and IsEnable='1'
2014-03-10 22:16:30,460 [50] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2014-03-10 22:16:30,471 [50] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','超级管理员','lbl','127.0.0.1','福建省厦门市','2014/3/10 22:16:30')
2014-03-10 22:16:30,479 [50] DEBUG Servicemms_project - 获取实体对象
2014-03-10 22:16:30,479 [50] DEBUG Mms - select mms_project.* from mms_project where ProjectCode='201306030001'
2014-03-10 22:16:30,507 [39] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:16:30,507 [39] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 22:16:30,522 [39] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 22:16:30,531 [39] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:16:30,531 [39] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 22:16:30,654 [50] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 22:16:32,898 [39] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 22:16:33,005 [39] DEBUG Servicesys_code - 获取动态列表
2014-03-10 22:16:33,005 [39] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 22:16:40,227 [39] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:16:40,231 [39] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 22:16:40,365 [39] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 22:17:12,066 [13] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 22:17:12,068 [13] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 22:17:12,181 [39] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 22:17:12,196 [39] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 22:17:12,196 [39] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 22:17:12,233 [39] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 22:17:12,244 [39] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:17:12,244 [39] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 22:17:12,260 [39] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:17:12,260 [39] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 22:17:12,281 [39] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:17:12,282 [39] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 22:17:12,293 [39] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:17:12,294 [39] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 22:17:14,741 [39] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:17:14,742 [39] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 22:18:31,544 [39] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:18:31,556 [39] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:18:31,591 [39] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_ORDERDATE],[ProjectCode]) values('201403100001','2014/3/10 22:17:12','201306030001')
2014-03-10 22:18:31,983 [39] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:bca5a8c2-9ba4-4541-8ec9-65da3a9743e9
2014-03-10 22:18:52,825 [39] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 237
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:bca5a8c2-9ba4-4541-8ec9-65da3a9743e9
2014-03-10 22:22:53,029 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:22:53,060 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:22:53,067 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:22:53,076 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:22:53,083 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:22:53,092 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:22:53,778 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:22:53,791 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 22:22:54,299 [5] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 22:22:54,821 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:22:54,821 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 22:22:56,280 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 22:23:09,287 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 22:23:09,313 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 22:23:09,314 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 22:23:11,256 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:23:11,256 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 22:23:11,312 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 22:23:13,093 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 22:23:13,098 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 22:23:13,216 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 22:23:13,290 [5] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 22:23:13,292 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 22:23:13,307 [5] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 22:23:13,319 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:23:13,320 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 22:23:13,337 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:23:13,337 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 22:23:13,358 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:23:13,358 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 22:23:13,372 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:23:13,373 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 22:23:14,525 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:23:14,525 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 22:23:28,176 [7] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:23:28,189 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:23:28,216 [7] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_SEALNO],[TR_ORDERDATE],[ProjectCode]) values('201403100001','5','5','2014/3/10 22:23:13','201306030001')
2014-03-10 22:23:28,393 [7] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:23:46,671 [7] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:23:53,365 [7] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:23:53,365 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:23:53,376 [7] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_SEALNO],[TR_ORDERDATE],[ProjectCode]) values('201403100001','5','5','2014/3/10 22:23:13','201306030001')
2014-03-10 22:23:53,544 [7] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:23:56,655 [7] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:24:02,676 [5] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 22:24:02,676 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 22:24:02,750 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 22:24:02,759 [5] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 22:24:02,760 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 22:24:02,828 [5] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 22:24:02,829 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:24:02,829 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 22:24:02,850 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:24:02,851 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 22:24:02,871 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:24:02,871 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 22:24:02,883 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:24:02,883 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 22:24:03,626 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:24:03,626 [5] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100002' order by A.Jobno
2014-03-10 22:24:06,606 [7] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:24:06,607 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:24:06,625 [7] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_ORDERDATE],[ProjectCode]) values('201403100002','5','2014/3/10 22:24:02','201306030001')
2014-03-10 22:24:06,780 [7] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:24:10,638 [7] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:24:42,762 [5] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:24:42,762 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:24:42,772 [5] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_ORDERDATE],[ProjectCode]) values('201403100002','5','2014/3/10 22:24:02','201306030001')
2014-03-10 22:24:42,975 [5] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:24:47,052 [5] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:25:38,947 [8] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:25:38,948 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:25:38,958 [8] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_ORDERDATE],[ProjectCode]) values('201403100002','5','2014/3/10 22:24:02','201306030001')
2014-03-10 22:25:39,114 [8] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:25:45,373 [8] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:26:55,977 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:26:55,978 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 22:26:55,998 [7] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 22:26:56,008 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:26:56,008 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 22:26:56,999 [7] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 22:26:57,540 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 22:26:57,550 [5] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 22:26:57,550 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 22:26:57,578 [5] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 22:26:57,578 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:26:57,578 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 22:26:57,588 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:26:57,589 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 22:26:57,618 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:26:57,619 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 22:26:57,645 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:26:57,645 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 22:26:58,985 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:26:58,985 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100002' order by A.Jobno
2014-03-10 22:27:18,745 [8] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:27:18,746 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:27:18,756 [8] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_ORDERDATE],[ProjectCode]) values('201403100002','2014/3/10 22:26:57','201306030001')
2014-03-10 22:27:18,912 [8] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:27:37,417 [8] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:27:45,123 [8] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:30:20,455 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:30:58,192 [8] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_ORDERDATE],[ProjectCode]) values('201403100002','2014/3/10 22:26:57','201306030001')
2014-03-10 22:31:25,978 [8] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:31:30,867 [8] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:31:38,268 [9] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:31:38,270 [9] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:32:41,766 [9] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_ORDERDATE],[ProjectCode]) values('201403100002','2014/3/10 22:26:57','201306030001')
2014-03-10 22:32:41,928 [9] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:32:44,839 [9] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:32:53,480 [10] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:32:53,482 [10] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:35:09,169 [10] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_ORDERDATE],[ProjectCode]) values('201403100002','2014/3/10 22:26:57','201306030001')
2014-03-10 22:35:09,170 [10] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 108
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:35:09,179 [10] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'ProjectCode' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:c67551bb-81e0-4d20-beab-09a2dd23d66d
2014-03-10 22:35:39,791 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:35:39,816 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:35:39,831 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:35:39,835 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:35:39,853 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:35:39,858 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:35:40,765 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:35:40,779 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 22:35:41,320 [5] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 22:35:42,063 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:35:42,063 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 22:35:44,371 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 22:35:47,614 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 22:35:47,635 [5] DEBUG Servicesys_code - 获取动态列表
2014-03-10 22:35:47,637 [5] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 22:35:49,502 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:35:49,502 [5] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 22:35:49,559 [5] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 22:35:50,037 [5] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 22:35:50,039 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 22:35:50,155 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 22:35:50,222 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 22:35:50,223 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100001'
2014-03-10 22:35:50,238 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 22:35:50,248 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:35:50,248 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno
2014-03-10 22:35:50,263 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:35:50,264 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100001' and Jobno='201403100001' order by Jobno desc
2014-03-10 22:35:50,274 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:35:50,274 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100001' and Jobno='201403100001' order by Jobno
2014-03-10 22:35:50,288 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:35:50,288 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100001' order by Jobno desc
2014-03-10 22:35:51,434 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:35:51,434 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100001' order by A.Jobno
2014-03-10 22:35:56,889 [7] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:35:56,900 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:36:20,250 [7] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_CONNO],[TR_SEALNO],[TR_ORDERDATE]) values('201403100001','5','5','5','2014/3/10 22:35:50')
2014-03-10 22:37:00,771 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:37:00,776 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 22:37:00,817 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 22:37:11,885 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:37:11,886 [6] DEBUG Trade - select top 20 * from trade_trailer where datediff(day,'2014-03-03 ',TR_ETSH) >=0 and datediff(day,' 2014-03-10',TR_ETSH) <=0 order by JOBNO
2014-03-10 22:37:12,289 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer where datediff(day,'2014-03-03 ',TR_ETSH) >=0 and datediff(day,' 2014-03-10',TR_ETSH) <=0 ) tb_temp
2014-03-10 22:37:16,220 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:37:16,220 [8] DEBUG Trade - select top 20 * from trade_trailer where datediff(day,'2014-03-10',TR_ETSH) >=0 and datediff(day,'2014-03-10',TR_ETSH) <=0 order by JOBNO
2014-03-10 22:37:16,235 [8] DEBUG Trade - select count(*) from ( select * from trade_trailer where datediff(day,'2014-03-10',TR_ETSH) >=0 and datediff(day,'2014-03-10',TR_ETSH) <=0 ) tb_temp
2014-03-10 22:37:17,032 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:37:17,032 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 22:37:17,047 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 22:37:17,647 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:37:17,647 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 22:37:17,658 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 22:37:21,858 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 22:37:21,950 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 22:37:21,950 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='undefined'
2014-03-10 22:37:21,964 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 22:37:21,964 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:37:21,964 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='undefined' order by Jobno
2014-03-10 22:37:22,005 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:37:22,005 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'undefined' and Jobno='undefined' order by Jobno desc
2014-03-10 22:37:22,018 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:37:22,019 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'undefined' and Jobno='undefined' order by Jobno
2014-03-10 22:37:22,034 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:37:22,034 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='undefined' order by Jobno desc
2014-03-10 22:37:22,838 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:37:22,838 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='undefined' order by A.Jobno
2014-03-10 22:37:37,127 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 22:37:37,127 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 22:37:37,348 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 22:37:37,367 [8] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 22:37:37,367 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 22:37:37,440 [8] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 22:37:37,441 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:37:37,441 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 22:37:37,451 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:37:37,451 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 22:37:37,461 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:37:37,461 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 22:37:37,474 [8] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:37:37,474 [8] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 22:37:38,253 [8] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:37:38,253 [8] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100002' order by A.Jobno
2014-03-10 22:39:35,206 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:39:35,252 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:39:35,276 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:39:35,280 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:39:35,288 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:39:35,293 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:39:36,196 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:39:36,210 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 22:39:36,898 [5] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 22:39:37,330 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:39:37,330 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 22:39:38,342 [5] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 22:39:41,253 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 22:39:41,375 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 22:39:41,376 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 22:39:44,173 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:39:44,173 [5] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 22:39:44,229 [5] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 22:39:45,488 [5] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 22:39:45,491 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 22:39:45,590 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 22:39:45,661 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 22:39:45,662 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100002'
2014-03-10 22:39:45,674 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 22:39:45,686 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:39:45,686 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno
2014-03-10 22:39:45,702 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:39:45,703 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100002' and Jobno='201403100002' order by Jobno desc
2014-03-10 22:39:45,718 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:39:45,718 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100002' and Jobno='201403100002' order by Jobno
2014-03-10 22:39:45,729 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:39:45,729 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100002' order by Jobno desc
2014-03-10 22:39:46,888 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:39:46,888 [6] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100002' order by A.Jobno
2014-03-10 22:45:33,625 [17] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:45:33,650 [17] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:45:33,659 [17] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:45:33,664 [17] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:45:33,670 [17] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:45:33,675 [17] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:45:34,259 [15] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 22:45:34,294 [15] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 22:45:43,348 [15] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_BLNO],[TR_CONNO],[TR_ORDERDATE]) values('201403100002','6','6','6','2014/3/10 22:39:45')
2014-03-10 22:46:06,017 [14] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 22:46:06,025 [14] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 22:46:06,236 [14] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 22:46:06,253 [14] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 22:46:06,254 [14] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 22:46:06,279 [14] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 22:46:06,290 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:46:06,291 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 22:46:06,311 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:46:06,311 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 22:46:06,333 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:46:06,333 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 22:46:06,344 [14] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:46:06,344 [14] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 22:46:07,539 [14] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 22:46:09,722 [15] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:46:09,723 [15] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 22:48:58,697 [13] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 22:48:58,714 [13] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 22:48:58,715 [13] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 22:48:58,743 [13] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 22:48:58,743 [13] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:48:58,743 [13] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 22:48:58,759 [13] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:48:58,759 [13] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 22:48:58,772 [13] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:48:58,773 [13] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 22:48:58,787 [13] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:48:58,787 [13] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 22:49:00,073 [11] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:49:00,074 [11] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 22:54:03,690 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:54:03,882 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:54:03,911 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:54:03,982 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:54:03,991 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:54:04,047 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 22:54:05,331 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:54:05,347 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 22:54:06,105 [6] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 22:54:06,605 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 22:54:06,606 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 22:54:07,987 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 22:54:11,814 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 22:54:11,844 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 22:54:11,845 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 22:54:15,718 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:54:15,719 [5] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 22:54:15,812 [5] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 22:54:16,608 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 22:54:16,611 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 22:54:16,733 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 22:54:16,775 [5] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 22:54:16,776 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 22:54:16,837 [5] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 22:54:16,847 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:54:16,847 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 22:54:16,863 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:54:16,863 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 22:54:16,873 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:54:16,874 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 22:54:16,907 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 22:54:16,907 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 22:54:18,295 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 22:54:18,296 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 23:00:01,264 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:00:01,777 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:00:01,786 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:00:01,844 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:00:01,851 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:00:01,888 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:00:02,541 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:00:02,556 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:00:03,230 [6] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:00:03,817 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:00:03,817 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:00:04,980 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 23:00:08,284 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 23:00:08,340 [5] DEBUG Servicesys_code - 获取动态列表
2014-03-10 23:00:08,342 [5] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 23:00:10,962 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:00:10,963 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 23:00:11,211 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 23:00:13,414 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 23:00:13,417 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 23:00:13,698 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 23:00:13,736 [5] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 23:00:13,737 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 23:00:13,768 [5] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 23:00:13,777 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:00:13,778 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 23:00:13,794 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:00:13,795 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 23:00:13,808 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:00:13,809 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 23:00:13,821 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:00:13,821 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 23:00:15,139 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:00:15,140 [6] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 23:04:01,064 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:04:01,065 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:04:01,085 [12] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:04:01,100 [12] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:04:01,100 [12] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:04:09,829 [13] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 23:04:23,219 [13] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 23:04:23,288 [13] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 23:04:23,289 [13] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 23:04:23,335 [13] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 23:04:23,335 [13] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:04:23,335 [13] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 23:04:23,349 [13] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:04:23,350 [13] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 23:04:23,372 [13] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:04:23,373 [13] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 23:04:23,389 [13] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:04:23,389 [13] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 23:04:53,790 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:04:53,914 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:04:53,936 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:04:53,944 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:04:53,952 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:04:53,960 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:04:54,830 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:04:54,846 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:04:55,668 [5] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:04:56,364 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:04:56,365 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:04:57,622 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 23:05:05,058 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 23:05:05,520 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 23:05:05,522 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 23:05:09,702 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:05:09,703 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 23:05:09,781 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 23:05:10,639 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 23:05:10,644 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 23:05:10,829 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 23:05:10,853 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 23:05:10,855 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 23:05:10,882 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 23:05:10,892 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:05:10,892 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 23:05:10,913 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:05:10,913 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 23:05:10,930 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:05:10,931 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 23:05:10,946 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:05:10,946 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 23:05:12,136 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:05:12,137 [6] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 23:06:18,984 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:06:18,984 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:06:19,032 [5] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:06:19,054 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:06:19,055 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:06:58,450 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:06:58,469 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:06:58,485 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:06:58,485 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:06:58,501 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:06:58,516 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:06:59,047 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:06:59,062 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:07:00,014 [5] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:07:00,544 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:07:00,544 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:07:11,004 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:07:11,005 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:07:11,024 [6] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:07:11,025 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:07:11,026 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:07:11,385 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 23:07:14,043 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 23:07:14,057 [7] DEBUG Servicesys_code - 获取动态列表
2014-03-10 23:07:14,058 [7] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 23:07:15,553 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:07:15,553 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 23:07:15,573 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 23:07:17,378 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 23:07:17,381 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 23:07:17,472 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 23:07:17,484 [5] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 23:07:17,485 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 23:07:17,492 [5] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 23:07:17,501 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:07:17,502 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 23:07:17,504 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:07:17,504 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 23:07:17,505 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:07:17,505 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 23:07:17,507 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:07:17,507 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 23:07:18,441 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:07:18,442 [6] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 23:07:19,453 [6] DEBUG Servicetrade_scheduler - 获取新主键
2014-03-10 23:07:19,454 [6] DEBUG Trade - select isnull(max(RowId),0) from trade_scheduler  where 1 = 1 and Jobno='201403100003'
2014-03-10 23:07:19,789 [6] ERROR Servicetrade_scheduler - 获取新主键失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'RowId' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.NewKey.maxplus(IDbContext db, String table, String field, ParamQuery pQuery) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Core\NewKey.cs:行号 41
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass31.<GetNewKey>b__30() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBase.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:4a8b7fdf-ef8c-4f0f-a3ec-617769af75a1
2014-03-10 23:07:19,935 [6] ERROR /api/trade/trailer/getnewrowid/1 - System.Data.SqlClient.SqlException (0x80131904): 列名 'RowId' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.GetNewKey(String field, String rule, Int32 qty, ParamQuery pQuery) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBase.cs:行号 102
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.GetNewRowId(Int32 id, String Jobno) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 133
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:4a8b7fdf-ef8c-4f0f-a3ec-617769af75a1
2014-03-10 23:07:55,604 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:07:55,605 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:07:55,641 [6] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:07:55,644 [6] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:07:55,644 [6] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:07:55,910 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 23:07:58,458 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 23:07:58,478 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 23:07:58,478 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 23:07:59,618 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:07:59,619 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 23:07:59,633 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 23:08:01,083 [6] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 23:08:01,084 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 23:08:01,163 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 23:08:01,173 [5] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 23:08:01,173 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100004'
2014-03-10 23:08:01,238 [5] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 23:08:01,238 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:08:01,238 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno
2014-03-10 23:08:01,240 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:08:01,240 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100004' and Jobno='201403100004' order by Jobno desc
2014-03-10 23:08:01,241 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:08:01,241 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100004' and Jobno='201403100004' order by Jobno
2014-03-10 23:08:01,266 [5] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:08:01,266 [5] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno desc
2014-03-10 23:08:02,155 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:08:02,155 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100004' order by A.Jobno
2014-03-10 23:08:04,358 [6] DEBUG Servicetrade_scheduler - 获取新主键
2014-03-10 23:08:04,359 [6] DEBUG Trade - select isnull(max(RowId),0) from trade_scheduler  where 1 = 1 and Jobno='201403100004'
2014-03-10 23:08:04,362 [6] ERROR Servicetrade_scheduler - 获取新主键失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'RowId' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.NewKey.maxplus(IDbContext db, String table, String field, ParamQuery pQuery) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Core\NewKey.cs:行号 41
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass31.<GetNewKey>b__30() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBase.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:4a8b7fdf-ef8c-4f0f-a3ec-617769af75a1
2014-03-10 23:08:04,367 [6] ERROR /api/trade/trailer/getnewrowid/1 - System.Data.SqlClient.SqlException (0x80131904): 列名 'RowId' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.GetNewKey(String field, String rule, Int32 qty, ParamQuery pQuery) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBase.cs:行号 102
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.GetNewRowId(Int32 id, String Jobno) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 133
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:4a8b7fdf-ef8c-4f0f-a3ec-617769af75a1
2014-03-10 23:08:53,211 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:08:53,248 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:08:53,264 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:08:53,277 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:08:53,283 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:08:53,292 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:08:53,836 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:08:53,849 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:08:54,243 [5] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:08:54,672 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:08:54,672 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:08:55,557 [5] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 23:08:57,271 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 23:08:57,301 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 23:08:57,302 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 23:08:58,940 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:08:58,941 [6] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 23:08:59,004 [6] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 23:08:59,607 [7] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 23:08:59,609 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 23:08:59,705 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 23:08:59,726 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 23:08:59,727 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 23:08:59,783 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 23:08:59,794 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:08:59,794 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 23:08:59,854 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:08:59,854 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 23:08:59,869 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:08:59,870 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 23:08:59,882 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:08:59,883 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 23:09:01,056 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:09:01,056 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 23:09:02,136 [6] DEBUG Servicetrade_scheduler - 获取新主键
2014-03-10 23:09:02,138 [6] DEBUG Trade - select isnull(max(Jobno),0) from trade_scheduler  where 1 = 1 and Jobno='201403100003'
2014-03-10 23:09:24,807 [7] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 23:09:24,908 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 23:09:29,786 [7] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_CONNO],[TR_SEALNO],[TR_ORDERDATE]) values('201403100003','7','7','7','2014/3/10 23:09:00')
2014-03-10 23:09:30,101 [7] DEBUG Trade - select trade_scheduler.* from trade_scheduler where Jobno='201403100003' and RowId=''
2014-03-10 23:09:30,513 [7] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'RowId' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Data.SelectBuilder`1.QuerySingleDynamic() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 155
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 167
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:daa78655-1cde-4dff-829c-402e715758a1
2014-03-10 23:09:43,562 [7] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'RowId' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:daa78655-1cde-4dff-829c-402e715758a1
2014-03-10 23:12:46,276 [10] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 23:12:46,277 [10] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 23:12:53,666 [10] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_CONNO],[TR_SEALNO],[TR_ORDERDATE]) values('201403100003','7','7','7','2014/3/10 23:09:00')
2014-03-10 23:15:47,843 [10] DEBUG Trade - select trade_scheduler.* from trade_scheduler where Jobno='201403100003' and RowId=''
2014-03-10 23:16:13,979 [10] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'RowId' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Data.SelectBuilder`1.QuerySingleDynamic() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 155
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 167
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:daa78655-1cde-4dff-829c-402e715758a1
2014-03-10 23:16:14,010 [10] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 列名 'RowId' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:daa78655-1cde-4dff-829c-402e715758a1
2014-03-10 23:17:29,659 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:17:29,691 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:17:29,720 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:17:29,729 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:17:29,735 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:17:29,758 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:17:30,201 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:17:30,216 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:17:30,615 [5] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:17:31,030 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:17:31,031 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:17:31,923 [5] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 23:17:49,229 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:17:49,229 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:17:49,242 [7] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:17:49,243 [7] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:17:49,244 [7] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:17:49,532 [5] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 23:17:51,829 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 23:17:51,854 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 23:17:51,855 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 23:17:53,230 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:17:53,231 [7] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 23:17:53,252 [7] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 23:17:53,807 [5] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 23:17:53,810 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 23:17:53,884 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 23:17:53,894 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 23:17:53,896 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 23:17:53,910 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 23:17:53,920 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:17:53,920 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 23:17:53,922 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:17:53,922 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 23:17:53,924 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:17:53,924 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 23:17:53,925 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:17:53,925 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 23:17:54,820 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:17:54,821 [6] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 23:17:59,261 [7] DEBUG Servicetrade_scheduler - 获取新主键
2014-03-10 23:17:59,263 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_scheduler  where 1 = 1 and Jobno='201403100003'
2014-03-10 23:18:04,564 [5] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 23:18:04,580 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 23:18:04,590 [5] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_SEALNO],[TR_ORDERDATE]) values('201403100003','7','7','2014/3/10 23:17:53')
2014-03-10 23:18:04,593 [5] DEBUG Trade - select trade_scheduler.* from trade_scheduler where Jobno='201403100003' and SNO=''
2014-03-10 23:18:04,804 [5] DEBUG Trade - insert into trade_scheduler([Jobno]) values('201403100003')
2014-03-10 23:18:04,987 [5] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'SNO'，表 'Zephyr.Trade.dbo.trade_scheduler'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 180
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:f617febe-b677-4dac-b19c-00faafa471fe
2014-03-10 23:18:05,034 [5] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'SNO'，表 'Zephyr.Trade.dbo.trade_scheduler'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:f617febe-b677-4dac-b19c-00faafa471fe
2014-03-10 23:18:47,309 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:18:47,310 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:18:47,320 [8] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:18:47,325 [8] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:18:47,326 [8] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:18:47,570 [5] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 23:18:49,581 [8] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 23:18:49,585 [8] DEBUG Servicesys_code - 获取动态列表
2014-03-10 23:18:49,586 [8] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 23:18:50,753 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:18:50,753 [5] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 23:18:50,757 [5] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 23:18:51,527 [8] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 23:18:51,527 [8] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 23:18:51,588 [7] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 23:18:51,590 [7] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 23:18:51,590 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100004'
2014-03-10 23:18:51,592 [7] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 23:18:51,592 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:18:51,593 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno
2014-03-10 23:18:51,595 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:18:51,595 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100004' and Jobno='201403100004' order by Jobno desc
2014-03-10 23:18:51,603 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:18:51,604 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100004' and Jobno='201403100004' order by Jobno
2014-03-10 23:18:51,605 [7] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:18:51,605 [7] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100004' order by Jobno desc
2014-03-10 23:18:52,408 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:18:52,409 [5] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100004' order by A.Jobno
2014-03-10 23:18:57,851 [5] DEBUG Servicetrade_scheduler - 获取新主键
2014-03-10 23:18:57,852 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_scheduler  where 1 = 1 and Jobno='201403100004'
2014-03-10 23:19:03,435 [8] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 23:19:03,437 [8] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 23:19:03,440 [8] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_CONNO],[TR_SEALNO],[TR_ORDERDATE]) values('201403100004','7','7','7','2014/3/10 23:18:51')
2014-03-10 23:19:03,441 [8] DEBUG Trade - select trade_scheduler.* from trade_scheduler where Jobno='201403100004' and SNO=''
2014-03-10 23:19:03,442 [8] DEBUG Trade - insert into trade_scheduler([Jobno]) values('201403100004')
2014-03-10 23:19:03,443 [8] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'SNO'，表 'Zephyr.Trade.dbo.trade_scheduler'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 180
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:f617febe-b677-4dac-b19c-00faafa471fe
2014-03-10 23:19:03,453 [8] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'SNO'，表 'Zephyr.Trade.dbo.trade_scheduler'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:f617febe-b677-4dac-b19c-00faafa471fe
2014-03-10 23:20:48,766 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:20:48,791 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:20:48,810 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:20:48,814 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:20:48,820 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:20:48,824 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:20:49,385 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:20:49,399 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:20:49,959 [5] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:20:50,362 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:20:50,362 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:20:51,347 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 23:20:57,658 [5] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 23:20:57,685 [5] DEBUG Servicesys_code - 获取动态列表
2014-03-10 23:20:57,687 [5] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 23:20:58,691 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:20:58,692 [5] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 23:20:58,749 [5] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 23:21:00,809 [5] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 23:21:00,811 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 23:21:00,898 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 23:21:00,915 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 23:21:00,916 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 23:21:00,928 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 23:21:00,938 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:21:00,939 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 23:21:00,973 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:21:00,974 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 23:21:00,983 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:21:00,984 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 23:21:01,003 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:21:01,003 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 23:21:02,232 [7] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:21:02,232 [7] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 23:21:08,026 [7] DEBUG Servicetrade_scheduler - 获取新主键
2014-03-10 23:21:08,027 [7] DEBUG Trade - select isnull(max(Jobno),0) from trade_scheduler  where 1 = 1 and Jobno='201403100003'
2014-03-10 23:21:19,709 [7] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 23:21:19,723 [7] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 23:21:25,842 [7] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_CONNO],[TR_SEALNO],[TR_ORDERDATE]) values('201403100003','7','7','7','2014/3/10 23:21:01')
2014-03-10 23:22:36,332 [7] DEBUG Trade - select trade_scheduler.* from trade_scheduler where Jobno='201403100003' and SNO=''
2014-03-10 23:24:18,941 [7] DEBUG Trade - insert into trade_scheduler([Jobno]) values('201403100003')
2014-03-10 23:24:29,858 [7] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'SNO'，表 'Zephyr.Trade.dbo.trade_scheduler'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 180
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:1421326d-bf92-4c00-9a5b-9d6a880ee8ba
2014-03-10 23:24:39,830 [7] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'SNO'，表 'Zephyr.Trade.dbo.trade_scheduler'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:1421326d-bf92-4c00-9a5b-9d6a880ee8ba
2014-03-10 23:31:04,544 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:31:04,569 [1] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:31:04,576 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:31:04,580 [1] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:31:04,587 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:31:04,591 [1] DEBUG Trade - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2014-03-10 23:31:04,974 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:31:04,988 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_NAME'
2014-03-10 23:31:05,414 [5] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2014-03-10 23:31:05,898 [5] DEBUG Servicesys_parameter - 获取字段
2014-03-10 23:31:05,898 [5] DEBUG Sys - select ParamValue from sys_parameter where ParamCode='SYS_COPYRIGHT'
2014-03-10 23:31:06,795 [6] DEBUG Sys - 
-- 角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' -- 用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  -- 机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2014-03-10 23:31:11,704 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/Index','/Trade/trailer')
2014-03-10 23:31:11,806 [6] DEBUG Servicesys_code - 获取动态列表
2014-03-10 23:31:11,807 [6] DEBUG Sys - select Code as value,Text as text from sys_code where CodeType='Pricing'
2014-03-10 23:31:13,403 [5] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:31:13,404 [5] DEBUG Trade - select top 20 * from trade_trailer order by JOBNO
2014-03-10 23:31:13,463 [5] DEBUG Trade - select count(*) from ( select * from trade_trailer ) tb_temp
2014-03-10 23:31:13,697 [5] DEBUG Servicetrade_trailer - 获取新主键
2014-03-10 23:31:13,700 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_trailer
2014-03-10 23:31:13,843 [6] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Trade/trailer/edit')
2014-03-10 23:31:13,854 [6] DEBUG Servicetrade_trailer - 获取实体对象
2014-03-10 23:31:13,856 [6] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno='201403100003'
2014-03-10 23:31:13,887 [6] DEBUG Servicetrade_trailer - 获取上一条下一条数据
2014-03-10 23:31:13,897 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:31:13,897 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno
2014-03-10 23:31:13,911 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:31:13,911 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno<'201403100003' and Jobno='201403100003' order by Jobno desc
2014-03-10 23:31:13,922 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:31:13,922 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno>'201403100003' and Jobno='201403100003' order by Jobno
2014-03-10 23:31:13,932 [6] DEBUG Servicetrade_trailer - 获取字段
2014-03-10 23:31:13,933 [6] DEBUG Trade - select top 1 Jobno from trade_trailer where Jobno='201403100003' order by Jobno desc
2014-03-10 23:31:15,138 [6] DEBUG Servicetrade_trailer - 获取动态列表
2014-03-10 23:31:15,139 [6] DEBUG Trade - select A.*, B.* from trade_trailer A
        left join trade_scheduler B on B.jobno = A.jobno where A.Jobno='201403100003' order by A.Jobno
2014-03-10 23:31:18,905 [5] DEBUG Servicetrade_scheduler - 获取新主键
2014-03-10 23:31:18,907 [5] DEBUG Trade - select isnull(max(Jobno),0) from trade_scheduler  where 1 = 1 and Jobno='201403100003'
2014-03-10 23:31:24,737 [5] DEBUG Servicetrade_trailer - 编辑记录
2014-03-10 23:31:24,748 [5] DEBUG Trade - select trade_trailer.* from trade_trailer where Jobno=''
2014-03-10 23:31:28,821 [5] DEBUG Trade - insert into trade_trailer([JOBNO],[TR_JOBNOIN],[TR_CONNO],[TR_ORDERDATE]) values('201403100003','7','7','2014/3/10 23:31:14')
2014-03-10 23:31:35,631 [5] DEBUG Trade - select trade_scheduler.* from trade_scheduler where Jobno='201403100003' and SNO=''
2014-03-10 23:31:35,652 [5] DEBUG Trade - insert into trade_scheduler([Jobno]) values('201403100003')
2014-03-10 23:31:35,847 [5] ERROR Servicetrade_trailer - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'SNO'，表 'Zephyr.Trade.dbo.trade_scheduler'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<Edit>b__a(RequestWrapper x) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 66
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClassf.<Edit>b__b() 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 180
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:139458c1-8b61-41ed-896b-8b947a8e1780
2014-03-10 23:31:40,871 [5] ERROR /api/trade/trailer/edit/ - System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'SNO'，表 'Zephyr.Trade.dbo.trade_scheduler'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 21
   在 Zephyr.Core.ServiceBase`1.Edit(JObject data, RequestWrapper formWrapper, List`1 tabsWrapper) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 70
   在 CallSite.Target(Closure , CallSite , trade_trailerService , Object , RequestWrapper , List`1 )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 Zephyr.Web.Trade.Controllers.TrailerApiController.Edit(Object data) 位置 d:\lbl\SOFT\Zephyr.Net20140310\Zephyr.Net\src\Zephyr.Web.Mms\Areas\Trade\Controllers\TrailerController.cs:行号 238
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:139458c1-8b61-41ed-896b-8b947a8e1780
